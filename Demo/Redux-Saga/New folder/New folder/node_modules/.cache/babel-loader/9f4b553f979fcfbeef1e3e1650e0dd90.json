{"ast":null,"code":"import { CATE_ADD_REQUEST, CATE_ADD_SUCCESS, CATE_GET_SUCCESS, CATE_DELETE_SUCCESS, CATE_SUBMIT_SUCCESS, CATE_UPDATE_EDIT_SUCCESS } from \"./../types/categories\";\nconst initialState = {\n  data: []\n};\n\nvar findID = (data, id) => {\n  var result = -1;\n  data.forEach((data, index) => {\n    if (data.id === id) {\n      // \n      result = index;\n    }\n  });\n  return result;\n};\n\nlet reducer = (state = initialState, action) => {\n  switch (action.type) {\n    //ADD\n    case CATE_ADD_REQUEST:\n      return { ...state\n      };\n\n    case CATE_ADD_SUCCESS:\n      return { ...state\n      };\n    //GET API\n\n    case CATE_GET_SUCCESS:\n      return { ...state,\n        data: action.payload\n      };\n    //DELETE\n\n    case CATE_DELETE_SUCCESS:\n      return { ...state,\n        data: state.data.filter(e => e.id !== action.payloadid)\n      };\n    //SUBMIT\n\n    case CATE_SUBMIT_SUCCESS:\n      console.log(action.data);\n      return { ...state,\n        data: [...state.data, action.payload]\n      };\n    //UPDATE_EDIT \n\n    case CATE_UPDATE_EDIT_SUCCESS:\n      var index = -1;\n      index = findID(state.data, action.payload.id); // so sánh nè\n\n      state.data[index] = action.payload;\n      console.log(\"API: \", action.payload);\n      console.log(\"Store: \", state.data[index]);\n      console.log(\"State: \", state);\n      return { ...state,\n        data: [...state.data]\n      };\n\n    default:\n      break;\n  }\n\n  return state;\n};\n\nexport default reducer;","map":{"version":3,"sources":["D:/Develop/Demo/Redux-Saga/New folder/New folder/src/redux/reducer/categories.js"],"names":["CATE_ADD_REQUEST","CATE_ADD_SUCCESS","CATE_GET_SUCCESS","CATE_DELETE_SUCCESS","CATE_SUBMIT_SUCCESS","CATE_UPDATE_EDIT_SUCCESS","initialState","data","findID","id","result","forEach","index","reducer","state","action","type","payload","filter","e","payloadid","console","log"],"mappings":"AAAA,SACEA,gBADF,EAEEC,gBAFF,EAGEC,gBAHF,EAIEC,mBAJF,EAKEC,mBALF,EAMEC,wBANF,QAOO,uBAPP;AASA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE;AADa,CAArB;;AAKA,IAAIC,MAAM,GAAI,CAACD,IAAD,EAAME,EAAN,KAAY;AAExB,MAAIC,MAAM,GAAE,CAAC,CAAb;AACAH,EAAAA,IAAI,CAACI,OAAL,CAAa,CAACJ,IAAD,EAAMK,KAAN,KAAgB;AAC3B,QAAGL,IAAI,CAACE,EAAL,KAAYA,EAAf,EAAkB;AAAG;AAEnBC,MAAAA,MAAM,GAACE,KAAP;AACD;AACF,GALD;AAMA,SAAOF,MAAP;AACD,CAVD;;AAYA,IAAIG,OAAO,GAAG,CAACC,KAAK,GAAGR,YAAT,EAAuBS,MAAvB,KAAkC;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACE;AACA,SAAKhB,gBAAL;AACE,aAAO,EAAE,GAAGc;AAAL,OAAP;;AAEF,SAAKb,gBAAL;AACE,aAAO,EACL,GAAGa;AADE,OAAP;AAGF;;AACA,SAAKZ,gBAAL;AACE,aAAO,EACL,GAAGY,KADE;AAELP,QAAAA,IAAI,EAAEQ,MAAM,CAACE;AAFR,OAAP;AAIF;;AACA,SAAKd,mBAAL;AACE,aAAO,EACL,GAAGW,KADE;AAELP,QAAAA,IAAI,EAAEO,KAAK,CAACP,IAAN,CAAWW,MAAX,CAAmBC,CAAD,IAAOA,CAAC,CAACV,EAAF,KAASM,MAAM,CAACK,SAAzC;AAFD,OAAP;AAIF;;AACA,SAAKhB,mBAAL;AACEiB,MAAAA,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACR,IAAnB;AACA,aAAO,EACL,GAAGO,KADE;AAELP,QAAAA,IAAI,EAAC,CAAC,GAAGO,KAAK,CAACP,IAAV,EAAeQ,MAAM,CAACE,OAAtB;AAFA,OAAP;AAQA;;AAEA,SAAKZ,wBAAL;AACA,UAAIO,KAAK,GAAG,CAAC,CAAb;AACAA,MAAAA,KAAK,GAAGJ,MAAM,CAACM,KAAK,CAACP,IAAP,EAAYQ,MAAM,CAACE,OAAP,CAAeR,EAA3B,CAAd,CAFA,CAE8C;;AAC9CK,MAAAA,KAAK,CAACP,IAAN,CAAWK,KAAX,IAAoBG,MAAM,CAACE,OAA3B;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBP,MAAM,CAACE,OAA3B;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBR,KAAK,CAACP,IAAN,CAAWK,KAAX,CAAtB;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBR,KAAtB;AACA,aAAO,EACL,GAAGA,KADE;AAELP,QAAAA,IAAI,EAAE,CAAC,GAAGO,KAAK,CAACP,IAAV;AAFD,OAAP;;AAMF;AACE;AAhDJ;;AAkDA,SAAOO,KAAP;AACD,CApDD;;AAsDA,eAAeD,OAAf","sourcesContent":["import {\r\n  CATE_ADD_REQUEST,\r\n  CATE_ADD_SUCCESS,\r\n  CATE_GET_SUCCESS,\r\n  CATE_DELETE_SUCCESS,\r\n  CATE_SUBMIT_SUCCESS,\r\n  CATE_UPDATE_EDIT_SUCCESS,\r\n} from \"./../types/categories\";\r\n\r\nconst initialState = {\r\n  data: []  \r\n};\r\n\r\n\r\nvar findID  = (data,id) =>{\r\n \r\n  var result= -1;\r\n  data.forEach((data,index) => {\r\n    if(data.id === id){  // \r\n\r\n      result=index;\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\nlet reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    //ADD\r\n    case CATE_ADD_REQUEST:\r\n      return { ...state };\r\n\r\n    case CATE_ADD_SUCCESS:\r\n      return {\r\n        ...state,\r\n      };\r\n    //GET API\r\n    case CATE_GET_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n    //DELETE\r\n    case CATE_DELETE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: state.data.filter((e) => e.id !== action.payloadid),\r\n      };\r\n    //SUBMIT\r\n    case CATE_SUBMIT_SUCCESS:\r\n      console.log(action.data)\r\n      return {\r\n        ...state,\r\n        data:[...state.data,action.payload]\r\n\r\n\r\n      };\r\n      \r\n    \r\n      //UPDATE_EDIT \r\n\r\n      case CATE_UPDATE_EDIT_SUCCESS:\r\n      var index = -1\r\n      index = findID(state.data,action.payload.id); // so sánh nè\r\n      state.data[index] = action.payload;\r\n      console.log(\"API: \",action.payload)\r\n      console.log(\"Store: \",state.data[index])\r\n      console.log(\"State: \",state)\r\n      return {\r\n        ...state,\r\n        data: [...state.data]\r\n\r\n      };\r\n\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}