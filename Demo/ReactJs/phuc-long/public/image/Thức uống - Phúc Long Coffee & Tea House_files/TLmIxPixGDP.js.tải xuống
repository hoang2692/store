if (self.CavalryLogger) { CavalryLogger.start_js(["DUx5S"]); }

__d("StickerConstants",[],(function(a,b,c,d,e,f){e.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120}}),null);
__d("CreateCustomerChatPluginGuestUserMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"CustomerChatPluginGuestData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateCustomerChatPluginGuestUserResponsePayload",kind:"LinkedField",name:"create_customer_chat_plugin_guest_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"session_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_token",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CreateCustomerChatPluginGuestUserMutation",selections:b,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CreateCustomerChatPluginGuestUserMutation",selections:b},params:{id:"2713207335435943",metadata:{},name:"CreateCustomerChatPluginGuestUserMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("LiveChatPluginGuestPersistentMenuQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data",type:"CustomerChatPluginGuestUserPersistentMenuParam!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"CustomerChatPluginGuestUserPersistentMenuResult",kind:"LinkedField",name:"customer_chat_plugin_guest_user_persistent_menu",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerNonNestedCTAShareData",kind:"LinkedField",name:"menu_items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LiveChatPluginGuestPersistentMenuQuery",selections:b,type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LiveChatPluginGuestPersistentMenuQuery",selections:b},params:{id:"3081508555256300",metadata:{},name:"LiveChatPluginGuestPersistentMenuQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("LivechatPluginGuestMessageThreadQueryContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data",type:"GuestMessageThreadQueryParams!"}],b=[{kind:"Variable",name:"data",variableName:"data"}],c={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},i={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},l={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"message_thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null},o={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"is_user_generated",storageKey:null},r=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],s={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:r,storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},w={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[t,u,v],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},y={kind:"InlineFragment",selections:[w,x],type:"MessageImage"};w={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},x,w],type:"MessageVideo"};var z={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null};r={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:r,storageKey:null};t=[t,v,u];v={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:t,storageKey:null};u={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:t,storageKey:null};t={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null};var C={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[v,u,t],storageKey:null},D=[f,{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null}],E={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:D,storageKey:null};x={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"template_type",storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"image_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},E,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[E,{alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:D,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null}],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage"};E={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};D={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[E,v,u,t,f],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LivechatPluginGuestMessageThreadQueryContainerQuery",selections:[{alias:null,args:b,concreteType:"MessageThread",kind:"LinkedField",name:"guest_message_thread",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,h,i,j,k,l,m,n,o,p,q,{kind:"InlineFragment",selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[y,w],storageKey:null},z,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[f,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[A,B,r,C,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[f],storageKey:null}],storageKey:null},A,B,r,C,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[f,x],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserMessage"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LivechatPluginGuestMessageThreadQueryContainerQuery",selections:[{alias:null,args:b,concreteType:"MessageThread",kind:"LinkedField",name:"guest_message_thread",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[E,g,h,i,j,k,l,m,n,o,p,q,f,{kind:"InlineFragment",selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[E,f,y,w],storageKey:null},z,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[f,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[A,B,r,D,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[E,f],storageKey:null}],storageKey:null},A,B,r,D,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[E,f,x],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserMessage"}],storageKey:null}],storageKey:null},f],storageKey:null}]},params:{id:"3073349082676274",metadata:{},name:"LivechatPluginGuestMessageThreadQueryContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("getSUILinkUniform.fds",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{normalColor:a.colors.text.blueLink,hoverColor:a.colors.text.blueLink,inverseColor:"#FFFFFF",inverseHoverColor:"#FFFFFF"}}e.exports=a}),null);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setQueryParams=function(a){this.$1.query_params=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={error_message:!0,event:!0,query_params:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));e.exports=c}),null);
__d("bs_belt_Id",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function c(a){a=a.cmp;a=b("bs_curry").__2(a);return{cmp:a}}function d(a){return{cmp:a}}function e(a){a=b("bs_curry").__2(a);return{cmp:a}}function g(a){return a}function h(a){var c=a.hash;c=b("bs_curry").__1(c);a=a.eq;a=b("bs_curry").__2(a);return{hash:c,eq:a}}function i(a,b){return{hash:a,eq:b}}function j(a,c){a=b("bs_curry").__1(a);c=b("bs_curry").__2(c);return{hash:a,eq:c}}f.MakeComparableU=a;f.MakeComparable=c;f.comparableU=d;f.comparable=e;f.MakeHashableU=g;f.MakeHashable=h;f.hashableU=i;f.hashable=j}),null);
__d("FBID.bs",["bs_belt_Id"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.localeCompare(a)|0}e=b("bs_belt_Id").MakeComparable({cmp:a});function c(a){return a}function d(a){return a}b=e.cmp;f.cmp=b;f.compare=a;f.ofString=d;f.ofStringExn=c}),null);
__d("MercuryServerURIs",[],(function(a,b,c,d,e,f){"use strict";e.exports={THREAD_INFO:"/ajax/mercury/thread_info.php",MARK_FOLDER_READ:"/ajax/mercury/mark_folder_as_read.php",CHANGE_READ_STATUS:"/ajax/mercury/change_read_status.php",MARK_SEEN:"/ajax/mercury/mark_seen.php",THREADLIST_INFO:"/ajax/mercury/threadlist_info.php",MARK_SPAM:"/ajax/mercury/mark_spam.php",UNMARK_SPAM:"/ajax/mercury/unmark_spam.php",UNREAD_THREADS:"/ajax/mercury/unread_threads.php",CHANGE_PINNED_STATUS:"/ajax/mercury/change_pinned_status.php",CHANGE_ARCHIVED_STATUS:"/ajax/mercury/change_archived_status.php",CHANGE_PAGE_FOLLOW_UP_STATUS:"/ajax/mercury/change_page_follow_up_status.php",DELETE_THREAD:"/ajax/mercury/delete_thread.php",DELETE_MESSAGES:"/ajax/mercury/delete_messages.php",DELIVERY_RECEIPTS:"/ajax/mercury/delivery_receipts.php",MOVE_THREAD:"/ajax/mercury/move_thread.php",CHANGE_MUTE_THREAD:"/ajax/mercury/change_mute_thread.php"}}),null);
__d("areJSONRepresentationsEqual",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.stringify(a)==JSON.stringify(b)}e.exports=a}),null);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","ChatReliabilityInstrumentation","CurrentUser","FBIDCheck","LogHistory","MercuryServerURIs","MessagingTag","MessengerWebGraphQLTypedLogger","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h={},i=b("LogHistory").getInstance("mercury_server_dispatcher"),j=50,k=[],l=!1,m={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function(a){for(var c in a){var d=a[c],e=d.request_user_id||b("CurrentUser").getID(),f=d.endpoint_id||m.DEFAULT_ENDPOINT_ID;h[c]||(h[c]={});h[c][e]||(h[c][e]={});h[c][e][f]=new n(c,d)}},trySend:function(a,c,d,e,f){e=e||b("CurrentUser").getID(),f=f||m.DEFAULT_ENDPOINT_ID,h[a][e][f].trySend(c,d)},getRequestErrors:function(){return k}};function n(a,c){var d=c.mode||m.IMMEDIATE;switch(d){case m.IMMEDIATE:case m.IDEMPOTENT:case m.BATCH_SUCCESSIVE:case m.BATCH_SUCCESSIVE_UNIQUE:case m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case m.BATCH_DEFERRED_MULTI:case m.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+d)}this._endpoint=a;this._mode=d;this._customHeader=c.customHeader;this._requestUserID=c.request_user_id;this._combineData=c.batch_function;this._combineDataIf=c.batch_if;this._batches=[];this._handler=c.handler;this._errorHandler=c.error_handler;this._transportErrorHandler=c.transport_error_handler||c.error_handler;this._connectionRetries=c.connection_retries||0;this._timeoutHandler=c.timeout_handler;this._timeout=c.timeout;this._serverDialogCancelHandler=c.server_dialog_cancel_handler||c.error_handler;this._deferredSend=b("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(n.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(a,b){if(l)return;a===void 0&&(a=null);b=b||this._mode;if(b==m.IMMEDIATE)this._send(a);else if(b==m.IDEMPOTENT)this._inFlight||this._send(a);else if(b==m.BATCH_SUCCESSIVE||b==m.BATCH_SUCCESSIVE_UNIQUE)!this._inFlight?this._send(a):this._batchData(a);else if(b==m.BATCH_CONDITIONAL){var c=this._batches[0]&&this._batches[0].getData();this._inFlight&&(this._combineDataIf(this._pendingRequestData,a)||this._combineDataIf(c,a))?this._batchData(a):this._send(a)}else b==m.BATCH_DEFERRED_MULTI?(this._batchData(a),this._deferredSend()):b==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batchData(a),this._inFlight||this._batchSend())},_send:function(a){var c=this;this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},a);this._requestUserID!=b("CurrentUser").getID()&&(a.request_user_id=this._requestUserID);i.log("send",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var d=(g||(g=b("performanceAbsoluteNow")))(),e=new(b("AsyncRequest"))(this._endpoint).setData(a).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(!0);this._customHeader&&e.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===b("MercuryServerURIs").THREADLIST_INFO){b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs","MercuryJewelBootloadModules"],function(f,g){var h=a.request_user_id||b("CurrentUser").getID(),d=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);g=(g={},g[b("MessagingTag").INBOX]="INBOX",g[b("MessagingTag").OTHER]="OTHER",g[b("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",g[b("MessagingTag").SPAM]="SPAM",g[b("MessagingTag").PENDING]="PENDING",g[b("MessagingTag").PAGE_BACKGROUND]="PAGE_BACKGROUND",g);var i=[],j=Object.keys(g);for(var k=0;k<j.length;k++){var l=j[k];if(Object.prototype.hasOwnProperty.call(a,l)){var m=a[l];i.push({limit:m.before?m.limit+1:m.limit,folder:l,tags:m.filter?[g[l],m.filter]:[g[l]],timestamp:m.before,filter:m.filter,includeDeliveryReceipts:!0,includeSeqID:!1})}}l=function(){f.fetchAll(h,i,d,"fetch_threadlist").done(function(a){a=new(b("AsyncResponse"))(e,babelHelpers["extends"]({},a,{payload_source:"server_fetch_threadlist_info"}));c._handleResponse(a)},function(a){c._handleGraphQLError("threadlist_failure",i,a,e)})};l()},"MercuryServerDispatcher");return}if(this._endpoint===b("MercuryServerURIs").THREAD_INFO){var f,h=(f=b("getByPath"))(a,["threads","user_ids"],[]),j=f(a,["threads","thread_fbids"],[]),k=f(a,["messages","user_ids"],{}),l=f(a,["messages","thread_fbids"],{}),m=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);b("Bootloader").loadModules(["MessengerGraphQLThreadFetcher.bs"],function(d){var f=a.request_user_id||b("CurrentUser").getID(),g=Object.keys(k),i=g.map(function(a){var b=k[a].limit,c=k[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!0}}),n=new Set(g);h.forEach(function(a){if(n.has(a))return;i.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!0})});g=Object.keys(l);var o=g.map(function(a){var b=l[a].limit,c=l[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!1}}),p=new Set(g);j.forEach(function(a){if(p.has(a))return;o.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!1})});var q=[].concat(i,o);q.forEach(function(a){a.limit>21&&b("ChatReliabilityInstrumentation").logFETCHING_MANY_MESSAGES(JSON.stringify(a))});d.fetchAll(f,q,m).done(function(a){a=a.slice(0);if(a.length>0){var d={};a.forEach(function(a){return Object.assign(d,a.roger)});var f=[];a.forEach(function(a){return f.push.apply(f,a.delivery_receipts)});var g=[];a.forEach(function(a){return g=g.concat(a.actions)});g=g.filter(Boolean);a={actions:g,threads:a.map(function(a){return a.thread}).filter(Boolean),end_of_history:a.map(function(a){return a.end_of_history}).filter(Boolean),roger:d,delivery_receipts:f,payload_source:"server_fetch_thread_info"};a=new(b("AsyncResponse"))(e,a);c._handleResponse(a)}else c._handleResponse(new(b("AsyncResponse"))(e,{}))},function(a){c._handleGraphQLError("thread_failure",q,a,e)})},"MercuryServerDispatcher");return}e.setHandler(function(a){b("BanzaiLogger").log("ChatPerfLoggerConfig",{event:"async_request",duration:(g||(g=b("performanceAbsoluteNow")))()-d,endpoint:c._endpoint}),c._handleResponse(a)}).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));this._timeout&&this._timeoutHandler&&e.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));e.send()},_handleGraphQLError:function(a,c,d,e){var f=null,g=e.getData().retry_count;typeof d.toString==="function"&&(f=d.toString());if(typeof d.getRequest!=="function"){var h=d.errors&&d.errors[0];d=new(b("AsyncResponse"))(e,d);d.errorSummary=d.errors&&d.errors.map();d.errorDescription=h?h.message:null;f=h&&h.message?h.message:f;d.silentError=h&&h.is_silent;d.transientError=h&&h.is_transient}g||new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(f).setEvent(a).setQueryParams(JSON.stringify(c)).log();this._handleError(d)},_batchData:function(a,c){if(this._mode==m.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==void 0&&b("areJSONRepresentationsEqual")(a,this._pendingRequestData))return;else{var d=this._batches.length-1;d>=0?c?this._batches[d].combineWithOlder(a,this._combineData):this._batches[d].combineWith(a,this._combineData):this._batches.push(new o(a));i.debug("batch",JSON.stringify({endpoint:this._endpoint}))}},_batchSend:function(){this._batches[0]&&(this._send(this._batches[0].getData()),this._batches.shift())},_handleResponse:function(a){this._inFlight--;i.log("response",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var b=a.getPayload();l=b&&b.kill_chat;l&&i.log("killswitch_enabled",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));b&&b.error_payload?this._errorHandler&&this._errorHandler(a):this._handler&&this._handler(b,a.getRequest());(this._mode==m.BATCH_SUCCESSIVE||this._mode==m.BATCH_SUCCESSIVE_UNIQUE||this._mode==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==m.BATCH_CONDITIONAL)&&this._batchSend();delete this._pendingRequestData},_createErrorRecord:function(a){return a instanceof b("AsyncResponse")?{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),code:a.getError(),description:a.getErrorDescriptionString(),summary:a.getErrorSummary(),isSilent:a.isSilent,isTransient:a.isTransient(),isBlockedAction:a.isBlockedAction(),isWarning:a.getErrorIsWarning(),payload:a.getPayload()}:{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),description:a.toString()}},_postErrorHandler:function(a){this._inFlight--;i.error("error",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight,error:a instanceof b("AsyncResponse")?a.getError()+" "+a.getErrorDescription():a instanceof Error?a.toString():"Unknown"}));k.push(this._createErrorRecord(a));k.length>j&&(k=k.slice(-1*j));a=this._mode;a==m.BATCH_SUCCESSIVE||a==m.BATCH_SUCCESSIVE_UNIQUE||a==m.BATCH_CONDITIONAL?this._batchSend():a==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batches[0]?(this._batchData(this._pendingRequestData,!0),this._batchSend()):this._batchData(this._pendingRequestData,!0));delete this._pendingRequestData},_handleError:function(a){this._errorHandler&&this._errorHandler(a),this._postErrorHandler(a)},_handleTransportError:function(a){this._transportErrorHandler&&this._transportErrorHandler(a),this._postErrorHandler(a)},_handleTimeout:function(a){this._timeoutHandler&&this._timeoutHandler(a),this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function(a){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(a),this._postErrorHandler(a)}});function o(a){this._data=a,this._size=1}Object.assign(o.prototype,{getData:function(){return this._data},getSize:function(){return this._size},combineWith:function(a,b){this._data=b(this._data,a),this._size++},combineWithOlder:function(a,b){this._data=b(a,this._data),this._size++}});e.exports=m}),null);
__d("bs_js_dict",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(c in a)return b("bs_caml_option").some(a[c])}var g=function(a,b){delete a[b];return 0};function c(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e){var f=b[e];d[e]=[f,a[f]]}return d}function d(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e)d[e]=a[b[e]];return d}function e(a){var b={};a=a;while(!0){var c=a;if(c){var d=c[0];b[d[0]]=d[1];a=c[1];continue}else return b}}function h(a){var b={},c=a.length;for(var d=0,c=c-1|0;d<=c;++d){var e=a[d];b[e[0]]=e[1]}return b}function i(a,b){var c={},d=Object.keys(b),e=d.length;for(var f=0,e=e-1|0;f<=e;++f){var g=d[f];c[g]=a(b[g])}return c}f.get=a;f.unsafeDeleteKey=g;f.entries=c;f.values=d;f.fromList=e;f.fromArray=h;f.map=i}),null);
__d("bs_caml_primitive",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a<b)return-1;else if(a===b)return 0;else return 1}function b(a,b){if(a)if(b)return 0;else return 1;else if(b)return-1;else return 0}function c(a,b){if(a===b)return 0;else if(a<b)return-1;else if(a>b||a===a)return 1;else if(b===b)return-1;else return 0}function d(a,b){if(a===b)return 0;else if(a<b)return-1;else return 1}function g(a,b,c,d,e){while(!0){var f=c;if(f<d){var g=a[f],h=b[f];if(g>h)return 1;else if(g<h)return-1;else{c=f+1|0;continue}}else return e}}function e(a,b){var c=a.length,d=b.length;if(c===d)return g(a,b,0,c,0);else if(c<d)return g(a,b,0,c,-1);else return g(a,b,0,d,1)}function h(a,b){var c=a.length,d=b.length;if(c===d){d=a;a=b;b=0;c=c;while(!0){var e=b;if(e===c)return!0;else{var f=d[e],g=a[e];if(f===g){b=e+1|0;continue}else return!1}}}else return!1}function i(a,b){if(a)return b;else return a}function j(a,b){if(a<b)return a;else return b}function k(a,b){if(a<b)return a;else return b}function l(a,b){if(a<b)return a;else return b}function m(a,b){if(a<b)return a;else return b}function n(a,b){if(a<b)return a;else return b}function o(a,b){if(a)return a;else return b}function p(a,b){if(a>b)return a;else return b}function q(a,b){if(a>b)return a;else return b}function r(a,b){if(a>b)return a;else return b}function s(a,b){if(a>b)return a;else return b}function t(a,b){if(a>b)return a;else return b}var u=a,v=a;f.caml_bytes_compare=e;f.caml_bytes_equal=h;f.caml_int_compare=a;f.caml_bool_compare=b;f.caml_float_compare=c;f.caml_nativeint_compare=u;f.caml_string_compare=d;f.caml_int32_compare=v;f.caml_bool_min=i;f.caml_int_min=j;f.caml_float_min=k;f.caml_string_min=l;f.caml_nativeint_min=m;f.caml_int32_min=n;f.caml_bool_max=o;f.caml_int_max=p;f.caml_float_max=q;f.caml_string_max=r;f.caml_nativeint_max=s;f.caml_int32_max=t}),null);
__d("bs_js_null_undefined",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a==null)return a;else return b(a)}function c(a,b){if(a==null)return 0;else return b(a)}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a)}e=d;f.bind=a;f.iter=c;f.fromOption=d;f.from_opt=e}),null);
__d("bs_block",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b.tag=a;return b}f.__=a}),null);
__d("bs_caml_obj",["bs_block","bs_caml_primitive","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){if(Array.isArray(a))for(var c=0;c<a.length;c++)b(c);else for(var c in a)b(c)};function a(a,b){b=new Array(b);b.tag=a;return b}function c(a){if(Array.isArray(a)){var b=a.length|0,c=new Array(b);for(var d=0,b=b-1|0;d<=b;++d)c[d]=a[d];c.tag=a.tag|0;return c}else return Object.assign({},a)}function d(a,c){var d=a.length|0;if(c<=0||c>d)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Obj.truncate"];if(d!==c){for(var e=c,d=d-1|0;e<=d;++e)a[e]=0;a.length=c;return 0}else return 0}function e(a){return b("bs_block").__(250,[a])}function h(a){a=[a];a.tag=246;return a}var i=function(a,b){var c=function(c){a[c]=b[c]};g(b,c);return 0};function j(a,c){while(!0){var d=c,e=a;if(e===d)return 0;else{var f=typeof e,h=typeof d;switch(f){case"boolean":if(h==="boolean")return b("bs_caml_primitive").caml_bool_compare(e,d);break;case"function":if(h==="function")throw[b("bs_caml_builtin_exceptions").invalid_argument,"compare: functional value"];break;case"number":if(h==="number")return b("bs_caml_primitive").caml_int_compare(e,d);break;case"string":if(h==="string")return b("bs_caml_primitive").caml_string_compare(e,d);else return 1;case"undefined":return-1;default:}switch(h){case"string":return-1;case"undefined":return 1;default:if(f==="boolean")return 1;else if(h==="boolean")return-1;else if(f==="function")return 1;else if(h==="function")return-1;else if(f==="number")if(d===null||d.tag===256)return 1;else return-1;else if(h==="number")if(e===null||e.tag===256)return-1;else return 1;else if(e===null)if(d.tag===256)return 1;else return-1;else if(d===null)if(e.tag===256)return-1;else return 1;else{f=e.tag|0;h=d.tag|0;if(f===250){a=e[0];continue}else if(h===250){c=d[0];continue}else if(f===256)if(h===256)return b("bs_caml_primitive").caml_int_compare(e[1],d[1]);else return-1;else if(f===248)return b("bs_caml_primitive").caml_int_compare(e[1],d[1]);else{if(f===251)throw[b("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];if(f!==h)if(f<h)return-1;else return 1;else{f=e.length|0;h=d.length|0;if(f===h)if(Array.isArray(e)){var i=e,k=d,l=0,m=f;while(!0){var n=l;if(n===m)return 0;else{var o=j(i[n],k[n]);if(o!==0)return o;else{l=n+1|0;continue}}}}else if(e instanceof Date&&d instanceof Date)return e-d;else{o=e;n=d;l={contents:void 0};i={contents:void 0};var p=function(b,c){var d=b[2],a=b[1];if(!Object.prototype.hasOwnProperty.call(a,c)||j(b[0][c],a[c])>0){b=d.contents;if(b!==void 0&&c>=b)return 0;else{d.contents=c;return 0}}else return 0};k=[o,n,i];m=function(a){return function(b){return p(a,b)}}(k);k=[n,o,l];k=function(a){return function(b){return p(a,b)}}(k);g(o,m);g(n,k);o=l.contents;m=i.contents;if(o!==void 0)if(m!==void 0)return b("bs_caml_primitive").caml_string_compare(o,m);else return-1;else if(m!==void 0)return 1;else return 0}else if(f<h){n=e;k=d;l=0;i=f;while(!0){o=l;if(o===i)return-1;else{m=j(n[o],k[o]);if(m!==0)return m;else{l=o+1|0;continue}}}}else{f=e;m=d;o=0;l=h;while(!0){n=o;if(n===l)return 1;else{k=j(f[n],m[n]);if(k!==0)return k;else{o=n+1|0;continue}}}}}}}}}}}function k(a,c){while(!0){var d=c,e=a;if(e===d)return!0;else{var f=typeof e;if(f==="string"||f==="number"||f==="boolean"||f==="undefined"||e===null)return!1;else{var h=typeof d;if(f==="function"||h==="function")throw[b("bs_caml_builtin_exceptions").invalid_argument,"equal: functional value"];if(h==="number"||h==="undefined"||d===null)return!1;else{f=e.tag|0;h=d.tag|0;if(f===250){a=e[0];continue}else if(h===250){c=d[0];continue}else if(f===248)return e[1]===d[1];else{if(f===251)throw[b("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];if(f!==h)return!1;else if(f===256)return e[1]===d[1];else{h=e.length|0;f=d.length|0;if(h===f)if(Array.isArray(e)){f=e;var i=d,j=0;h=h;while(!0){var l=j;if(l===h)return!0;else if(k(f[l],i[l])){j=l+1|0;continue}else return!1}}else if(e instanceof Date&&d instanceof Date)return!(e>d||e<d);else{l=e;j=d;f={contents:!0};i=function(a,b){return function(c){if(Object.prototype.hasOwnProperty.call(a,c))return 0;else{b.contents=!1;return 0}}}(j,f);h=function(a,b,c){return function(d){if(!Object.prototype.hasOwnProperty.call(a,d)||!k(b[d],a[d])){c.contents=!1;return 0}else return 0}}(l,j,f);g(l,i);f.contents&&g(j,h);return f.contents}else return!1}}}}}}}function l(a,b){if(b!==null)return k(a,b);else return a===b}function m(a,b){if(b!==void 0)return k(a,b);else return a===b}function n(a,b){if(b==null)return a===b;else return k(a,b)}function o(a,b){return!k(a,b)}function p(a,b){return j(a,b)>=0}function q(a,b){return j(a,b)>0}function r(a,b){return j(a,b)<=0}function s(a,b){return j(a,b)<0}function t(a,b){if(j(a,b)<=0)return a;else return b}function u(a,b){if(j(a,b)>=0)return a;else return b}function v(a,b){a.tag=b;return 0}f.caml_obj_block=a;f.caml_obj_dup=c;f.caml_obj_truncate=d;f.caml_lazy_make_forward=e;f.caml_lazy_make=h;f.caml_update_dummy=i;f.caml_compare=j;f.caml_equal=k;f.caml_equal_null=l;f.caml_equal_undefined=m;f.caml_equal_nullable=n;f.caml_notequal=o;f.caml_greaterequal=p;f.caml_greaterthan=q;f.caml_lessthan=s;f.caml_lessequal=r;f.caml_min=t;f.caml_max=u;f.caml_obj_set_tag=v}),null);
__d("MessengerWebEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RENDER_FIRST_THREAD_CONTENT:"render_first_thread_content",SEND_MSG:"send_msg",SENT_MSG:"sent_msg",RENDER_INCOMING_MSG:"render_incoming_msg",OPEN_CHAT_TAB:"open_chat_tab",SWITCH_CHAT_TAB:"switch_chat_tab",MINIMIZE_CHAT_TAB:"minimize_chat_tab",RENDER_INBOX:"render_inbox",SHOW_SIDEBAR_CONTACTS:"show_sidebar_contacts",SEARCH_RENDER_RESULT:"search_render_result",OPEN_THREAD_SETTINGS_MENU:"open_thread_settings_menu",OPEN_EMOJI_FLYOUT:"open_emoji_flyout",OPEN_STICKER_FLYOUT:"open_sticker_flyout",CREATE_THREAD:"create_thread",SEARCH_CLICK_RESULT:"search_click_result",CHANGE_NICKNAME:"change_nickname",SUPPRESS_NEW_MESSAGE:"suppress_new_message",LOAD_TAB_FROM_COOKIE:"load_tab_from_cookie",DELIVERY_RECEIPT:"delivery_receipt",SELECT_FILE_FOR_UPLOAD:"select_file_for_upload",UPLOAD_FILE_SUCCESS:"upload_file_success",HIT_SEND_MESSAGE_WITH_FILES_PENDING:"hit_send_message_with_files_pending",HIT_SEND_MESSAGE_WITH_ALL_FILES_UPLOADED:"hit_send_message_with_all_files_uploaded",SEND_FILES:"send_files",RENDER_QUICK_REPLIES:"render_quick_replies",CLICK_ICEBKREAKER:"click_icebreaker"})}),null);
__d("MessengerWebStgTypedLoggerLite",["Banzai","generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MessengerWebStgLoggerConfig")}),null);
__d("XGroupsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/{idorvanity}/{?view}/{?post_id}/",{idorvanity:{type:"String",required:!0},view:{type:"Enum",enumType:1},post_id:{type:"Int"},rule_id:{type:"Int"},ref:{type:"String"},source_id:{type:"String"},notif_t:{type:"String"},nux:{type:"Enum",enumType:1},tip_id:{type:"Int"},feedback_id:{type:"FBID"},member_tag_id:{type:"FBID"},section:{type:"Enum",enumType:1},thread_id:{type:"String"},support_thread_id:{type:"String"},mentorship_profile_id:{type:"FBID"},autopopup_create_chat_dialog:{type:"Bool",defaultValue:!1},sorting_setting:{type:"String"},multi_events:{type:"String"},stories:{type:"Exists",defaultValue:!1},topics:{type:"Exists",defaultValue:!1},highlight_location:{type:"Exists",defaultValue:!1},highlight_sections:{type:"Exists",defaultValue:!1},highlight_groupapps:{type:"Exists",defaultValue:!1},highlight_pixel:{type:"Exists",defaultValue:!1},highlight_mentorship_option:{type:"Exists",defaultValue:!1},highlight_fundraiser_option:{type:"Exists",defaultValue:!1},highlight_auto_approval:{type:"Exists",defaultValue:!1},highlight_page_member:{type:"Exists",defaultValue:!1},highlight_units_edit_bar:{type:"Exists",defaultValue:!1},highlight_keyword_alerts:{type:"Exists",defaultValue:!1},queue:{type:"Enum",enumType:1},composer_prefill:{type:"String"},hide_workplace_pagelet:{type:"Bool",defaultValue:!1},permalink_add_comment_nux_shown:{type:"Bool",defaultValue:!1},badge_type:{type:"Enum",enumType:1},work_learning_entry_point:{type:"Enum",enumType:1},chained_wp:{type:"Bool",defaultValue:!1},hoist_pending_member_ids_suggested_order:{type:"FBIDKeyset"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"}})}),null);
__d("XMNCommercePostbackCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/postback/",{cta_id:{type:"String",required:!0},message_id:{type:"String"},ref:{type:"String"},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1},should_ignore:{type:"Bool",defaultValue:!1}})}),null);
__d("MNCommercePostbackCTADataManager",["AsyncRequest","BanzaiODS","CurrentUser","getPageIDFromThreadID","MercuryMessageActions","MercuryMessageObject","MNPlatformTagsDataManager","XMNCommercePostbackCTAController"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryMessageActions").get();a=function(){function a(){}var c=a.prototype;c.send=function(a,c,d,e,f){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);b("BanzaiODS").bumpEntityKey(3303,"messenger_commerce","postback_send_clicked");a=b("XMNCommercePostbackCTAController").getURIBuilder().setString("cta_id",a).setString("ref",d).setString("message_id",e).setEnum("ref_source",f).getURI();!c?new(b("AsyncRequest"))().setURI(a).setMethod("POST").send():new(b("AsyncRequest"))().setURI(a).setMethod("POST").setErrorHandler(c).send()};c.sendAndConfirm=function(a,b,c,d,e,f,g,h,i,j){e===void 0;f===void 0&&(f=null);g===void 0&&(g=[]);h===void 0&&(h=null);i===void 0&&(i=null);j===void 0&&(j="source:titan:web");e={cta_id:a,prev_message_id:h,ref:f,force_handle:!0,postback_cta_ref_source:i?i.toString():null};this.sendConfirmationText(b,c,d,g,e,j)};c.sendConfirmationText=function(a,c,d,e,f,h){e===void 0&&(e=[]);if(!c)b("BanzaiODS").bumpEntityKey(3303,"messenger_commerce","confirm_message_failed.empty_threadID");else{var i=new(b("MercuryMessageObject"))(b("CurrentUser").getID()),j=b("getPageIDFromThreadID")(c);b("MNPlatformTagsDataManager").hasThreadTags(j)&&e.concat(b("MNPlatformTagsDataManager").getThreadTags());g.send(i.constructCTAConfirmationMessageObject(a,h,c,d,e,f));e&&e.length>0&&b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread()}};return a}();e.exports=new a()}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;a={getNewID:function(){return(g++).toString()}};e.exports=a}),null);
__d("CreateCustomerChatPluginGuestUserMutation",["RelayFBEnvironment","RelayModern","CreateCustomerChatPluginGuestUserMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;a={commit:function(a,c){h(b("RelayFBEnvironment"),{mutation:g!==void 0?g:g=b("CreateCustomerChatPluginGuestUserMutation.graphql"),variables:a,onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}};e.exports=a}),null);
__d("LiveChatPluginConstants",[],(function(a,b,c,d,e,f){"use strict";a="LiveChatEvent/";b={MQTT:"mqtt",CONNECTED_STATE:"Connected",CONNECTING_STATE:"Connecting",DISCONNECTED_STATE:"Disconnected",CLOSE_TIMESTAMPS:a+"close_timestamps",RESET_BADGING:a+"reset_badging",STATE_UPDATE:a+"state",SWITCH_ACCOUNT:a+"switch_account",TYPING_UPDATE:a+"typing",UNREAD_COUNT_UPDATE:a+"unread_count",UPDATE_MESSAGE_LIST:a+"update_message_list",GUEST_MODE_CONNECT:"platform/plugins/connect/guest",PROMPT_FALLBACK_HEIGHT:124,PROMPT_REDESIGN_FALLBACK_HEIGHT:187,PROMPT_CONTAINER_PADDING_HEIGHT:24,LOGGED_IN_CHAT_MODE:0,GUEST_CHAT_MODE:1,MESSENGING_PLUGIN:"messaging_plugin",GUEST_SESSION_STORAGE_VALIDITY_MS:8634e4,GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT:"#8A8D91",LIVE_CHAT_ENTRYPOINT_ATTRIBUTION_TAG:"entrypoint:customer_chat_plugin",ITP_CONSISTENCY_UNKNOWN_LOGGED_OUT:0,ITP_CONSISTENCY_CONSISTENT_LOGGED_IN:1,ITP_CONSISTENCY_INCONSISTENT:2,ITP_CONSISTENCY_CONSISTENT_NO_ITP:3};e.exports=b}),null);
__d("MessagingPluginLocalStorage",["WebStorage"],(function(a,b,c,d,e,f){"use strict";var g;a={get:function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)return a;try{a=window.localStorage}catch(b){a=null}return a}};e.exports=a}),null);
__d("LiveChatPluginLocalStorageUtil",["BanzaiODS","LiveChatPluginConstants","MessagingPluginLocalStorage","WebStorage"],(function(a,b,c,d,e,f){var g,h="messenger_live_chat";a=function(){"use strict";function a(){this.domain="",this.pageID="0",this.viewerID="0",this.requestID=""}var c=a.prototype;c.init=function(a,b,c,d){this.domain=a,this.pageID=b,this.viewerID=c,this.requestID=d};c.getChatStarted=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.chatStarted||!1};c.setChatStarted=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);if(b==null)return;this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{chatStarted:a}))};c.getRefSent=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.refSent||!1};c.setRefSent=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);if(b==null)return;this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{refSent:a}))};c.getHasGuestSession=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.hasGuestSession||!1};c.setHasGuestSession=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);if(b==null)return;this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{hasGuestSession:a}))};c.getIsDialogHidden=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.isDialogHidden||!1};c.setIsDialogHidden=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);if(b==null)return;this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{isDialogHidden:a}))};c.getRequestID=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.requestID||this.requestID};c.setRequestID=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);if(b==null)return;this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{requestID:a}))};c.getSessionKeyIfNotExpired=function(){var a=Date.now(),b=this.getSessionState();return b&&a<b.expirationTimestamp?b.sessionKey:null};c.getSessionFBID=function(){var a=this.getSessionState();return a?a.fbid:null};c.getAccessToken=function(){var a=this.getSessionState();return!a?null:a.accessToken};c.getSessionState=function(){try{var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a==null?void 0:a.session}catch(a){this.$1();return null}};c.removeSessionState=function(){try{var a=this.getLocalState(this.domain,this.pageID,this.viewerID);if(a==null)return;this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},a,{session:null}))}catch(a){this.$1()}};c.setSessionInfo=function(a,c,d){try{this.removeSessionState();var e=this.getLocalState(this.domain,this.pageID,this.viewerID);if(e==null)return;this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},e,{session:{sessionKey:a,fbid:c,accessToken:d,expirationTimestamp:Date.now()+b("LiveChatPluginConstants").GUEST_SESSION_STORAGE_VALIDITY_MS}}))}catch(a){this.$1()}};c.invalidateSessionState=function(){try{var a=this.getLocalState(this.domain,this.pageID,this.viewerID);if(a==null)return;var b=this.getSessionState();if(b==null)return;this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},a,{session:babelHelpers["extends"]({},b,{expirationTimestamp:0})}))}catch(a){this.$1()}};c.getStorageKeyForGuestSession=function(){return this.$2(this.domain,this.pageID,this.viewerID)};c.getLocalState=function(a,c,d){try{var e=b("MessagingPluginLocalStorage").get();if(e){a=this.$2(a,c,d);c=e.getItem(a);if(c!=null)return JSON.parse(c)}return null}catch(a){this.$1();return null}};c.setLocalState=function(a,c,d,e){try{var f=b("MessagingPluginLocalStorage").get();if(f){a=this.$2(a,c,d);(g||(g=b("WebStorage"))).setItemGuarded(f,a,JSON.stringify(e))}}catch(a){this.$1()}};c.removeLocalState=function(a,c,d){try{var e=b("MessagingPluginLocalStorage").get();if(e){a=this.$2(a,c,d);e.removeItem(a)}}catch(a){this.$1()}};c.$2=function(a,b,c){return h+"_"+a+"_"+b+"_"+c};c.$1=function(){b("BanzaiODS").bumpEntityKey(2966,"messenger_commerce","customer_chat_plugin.state_session_failed")};return a}();e.exports=new a()}),null);
__d("LiveChatPluginLoggerUtil",["BanzaiODS","CurrentUser","LiveChatPluginConstants","LiveChatPluginLocalStorageUtil","MessengerLiveChatPluginTypedLogger","MessengerWebPluginAnonymousTypedLogger","MNPlatformAttributionTags","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h={};a={getLastImpressionEvent:function(){return h},logActionDEPRECATED:function(a,c,d,e,f,g,i){f===void 0&&(f=null);g===void 0&&(g=null);i===void 0&&(i=null);var j=b("LiveChatPluginLocalStorageUtil").getRequestID();new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(c).setPageID(d).setRequestID(j).setEvent(a).setEventTimestamp(Date.now()).setDebugData(e).setThemeColor(f).setLoggedInGreeting(g).setLoggedOutGreeting(i).setUpstreamEvent(h.name).logVital()},logAction:function(a,c,d,e,f,i,j,k,l){f===void 0&&(f=null);i===void 0&&(i=null);j===void 0&&(j=null);var m=b("LiveChatPluginLocalStorageUtil").getRequestID(),n=b("CurrentUser").getID()!=="0",o=c!=null?b("CurrentUser").getID()===c:"null";k=k!=null?Math.round((g||(g=b("performanceAbsoluteNow")))()-k):null;l=l!=null?Math.round((g||(g=b("performanceAbsoluteNow")))()-l):null;f={themeColor:(f=f)!=null?f:"",loggedInGreeting:(f=i)!=null?f:"",loggedOutGreeting:(i=j)!=null?i:"",isLoggedIn:n.toString(),isLoggedInUserAction:o.toString(),fromMountDuration:k!=null?String(k):"",fromServerDuration:l!=null?String(l):""};new(b("MessengerWebPluginAnonymousTypedLogger"))().setClientFbid(c).setPageID(d).setRequestID(m).setEvent(a).setEventTimestamp(Date.now()).setDebugData(e).setPluginExtra(f).setUpstreamEvent(h.name).logVital()},logNewAction:function(a,c,d,e,f){var g=b("LiveChatPluginLocalStorageUtil").getRequestID(),h=b("CurrentUser").getID()!=="0",i=Date.now(),j=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);new(b("MessengerWebPluginAnonymousTypedLogger"))().setClientFbid(c).setPluginName("messaging_plugin").setPluginInterface(j?"mobile":"desktop").setIsUserLoggedIn(h).setTabName(e).setPageID(d).setRequestID(g).setNewEventName(a).setOtherFields(f).setEventTimestamp(i).logVital()},logTTI:function(a,c){this.logTTI=b("emptyFunction");c=(g||(g=b("performanceAbsoluteNow")))()-c;new(b("MessengerLiveChatPluginTypedLogger"))().setPageID(a).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setDuration(c).setEvent("plugin_tti").setEventTimestamp(Date.now()).logVital()},logDelta:function(a,c,d,e,f){f===void 0&&(f=!1);var g=b("LiveChatPluginConstants").MQTT;f=f?JSON.stringify({seqId:e,isGuest:f}):JSON.stringify({seqId:e});new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(a).setPageID(c).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setDebugData(f).setEvent("delta_received").setDeltaType(d).setGateway(g).setEventTimestamp(Date.now()).log();b("BanzaiODS").bumpEntityKey(2966,"messenger_commerce","customer_chat_plugin.client."+g+".delta_received."+d)},logChatDisplayDone:function(a,c,d){this.logChatDisplayDone=b("emptyFunction");d=(g||(g=b("performanceAbsoluteNow")))()-d;new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(a).setPageID(c).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setDuration(d).setEvent("chat_display_done").setEventTimestamp(Date.now()).logVital()},getAttributionTags:function(){return[b("MNPlatformAttributionTags").ATTRIBUTION_TAGS_PREFIX+b("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN,b("LiveChatPluginConstants").LIVE_CHAT_ENTRYPOINT_ATTRIBUTION_TAG]},logImpressionEvents:function(a,c,d,e,f,i,j,k){var l=Date.now();j=j!=null?Math.round((g||(g=b("performanceAbsoluteNow")))()-j):null;k=k!=null?Math.round((g||(g=b("performanceAbsoluteNow")))()-k):null;var m=b("LiveChatPluginLocalStorageUtil").getRequestID(),n=b("CurrentUser").getID()!=="0";e={themeColor:(e=e)!=null?e:"",loggedInGreeting:(e=f)!=null?e:"",loggedOutGreeting:(f=i)!=null?f:"",isLoggedIn:n.toString(),fromMountDuration:j!=null?String(j):"",fromServerDuration:k!=null?String(k):""};i=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);new(b("MessengerWebPluginAnonymousTypedLogger"))().setPageID(c).setRequestID(m).setEvent(a).setEventTimestamp(l).setDebugData(d).setPluginExtra(e).setUpstreamEvent(h.name).setPluginInterface(i?"mobile":"desktop").logVital();a!=="customer_chat_plugin_loaded"&&(h={name:a,timestamp:l})},logImpressionExceptions:function(a,c,d,e,f){var g=b("LiveChatPluginLocalStorageUtil").getRequestID(),h=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);new(b("MessengerWebPluginAnonymousTypedLogger"))().setPageID(c).setRequestID(g).setEvent(a).setEventTimestamp(Date.now()).setExceptionType(d).setExceptionMessage(e).setExceptionStacktrace(f).setPluginInterface(h?"mobile":"desktop").logVital()},logNewImpressionEvents:function(a,c,d,e,f,h){var i=b("LiveChatPluginLocalStorageUtil").getRequestID(),j=Date.now(),k=b("CurrentUser").getID()!=="0";e=e!=null?Math.round((g||(g=b("performanceAbsoluteNow")))()-e):"";h=h!=null?{loading_time:e.toString(),button_names:f==null?void 0:f.toString(),welcome_message:h}:{loading_time:e.toString(),button_names:f==null?void 0:f.toString()};e=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);new(b("MessengerWebPluginAnonymousTypedLogger"))().setPluginName("messaging_plugin").setPluginInterface(e?"mobile":"desktop").setIsUserLoggedIn(k).setTabName(d).setPageID(c).setRequestID(i).setNewEventName(a).setOtherFields(h).setEventTimestamp(j).logVital()},logNewImpressionExceptions:function(a,c,d,e,f,g){var h=b("LiveChatPluginLocalStorageUtil").getRequestID(),i=Date.now(),j=b("CurrentUser").getID()!=="0",k={exception_type:e},l=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);new(b("MessengerWebPluginAnonymousTypedLogger"))().setPluginName("messaging_plugin").setPluginInterface(l?"mobile":"desktop").setIsUserLoggedIn(j).setTabName(d).setPageID(c).setRequestID(h).setNewEventName(a).setOtherFields(k).setExceptionType(e).setExceptionMessage(f).setExceptionStacktrace(g).setEventTimestamp(i).logVital()},EVENTMAP:{show:"customer_chat_show_called",hide:"customer_chat_hide_called",showDialog:"customer_chat_show_dialog_called",hideDialog:"customer_chat_hide_dialog_called",update:"customer_chat_update_called"}};e.exports=a}),null);
__d("LiveChatMqttClient",["Arbiter","LiveChatPluginConstants","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","MercurySingletonProvider","MessengerLiveChatPluginTypedLogger","MessengerMQTTConnectionEvents","MqttChannel","MqttEnvInitializer","Network","SyncProtocolClient"],(function(a,b,c,d,e,f){"use strict";var g=225396507985893,h="n",i="wss://edge-chat.facebook.com/chat";a=function(){function a(a){this.$1=a}a.getForFBID=function(a){var b=j.resetAll();for(var c in b)b[c].shutdown();return j.getForFBID(a)};a.setUp=function(b,c,d,e,f){f===void 0&&(f=null);var g=a.getForFBID(c);g.init(b,c,d,e,f)};var c=a.prototype;c.init=function(a,c,d,e,f){var j=this;b("MqttEnvInitializer").initialize();this.$2=a;this.$3=new(b("MqttChannel"))({endpoint:i,pollingEndpoint:"",userFbid:c,appId:g,initialSubscribedTopics:["/t_ms"],capabilities:0,clientCapabilities:1,chatVisibility:!0,guestAuthString:f});a={thread_filter:[{other_user_fbid:a}]};!d?b("SyncProtocolClient").getForFBID(c).init(this.$3,null,a,h).addDeltaStreamListener(this):b("SyncProtocolClient").getForFBID(c).init(this.$3,d,a).addDeltaStreamListener(this);var k=e!==null||f!==null?this.$1:null;new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(k).setPageID(this.$2).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent("mqtt_connection_initiated").setEventTimestamp(Date.now()).log();this.$3.subscribeChannelEvents({onMQTTStateChanged:function(a){a===b("LiveChatPluginConstants").CONNECTED_STATE&&(e&&e()),(b("Network").isOnline()||a!=="Connecting")&&b("Arbiter").inform(b("LiveChatPluginConstants").STATE_UPDATE,a),new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(k).setPageID(j.$2).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent("mqtt_connection_state_changed").setDebugData(a).setEventTimestamp(Date.now()).log()}});b("Network").addListener("offline",function(){j.$3.getConnectionState()===b("LiveChatPluginConstants").CONNECTED_STATE&&b("Arbiter").inform(b("LiveChatPluginConstants").STATE_UPDATE,b("LiveChatPluginConstants").DISCONNECTED_STATE)});b("Network").addListener("online",function(){j.$3.getConnectionState()===b("LiveChatPluginConstants").CONNECTED_STATE&&b("Arbiter").inform(b("LiveChatPluginConstants").STATE_UPDATE,b("LiveChatPluginConstants").CONNECTED_STATE)});this.$3.subscribe("/orca_typing_notifications",function(a){b("Arbiter").inform(b("LiveChatPluginConstants").TYPING_UPDATE,JSON.parse(a).state)})};c.onDeltaReceived=function(a){var c=a.type;a=a.payload;try{c=c.replace(/^delta/,"unknown");var d=Number(a.irisSeqId);a={delta:babelHelpers["extends"]({},a,{"class":c}),iseq:d,type:"delta"};b("Arbiter").inform(b("MessengerMQTTConnectionEvents").DELTA_EVENT,{obj:a});b("LiveChatPluginLoggerUtil").logDelta(this.$1,this.$2,c,d)}catch(a){new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(this.$1).setPageID(this.$2).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent("delta_parsing_error").setEventTimestamp(Date.now()).logVital()}};c.onStreamDisconnect=function(a){};c.shutdown=function(){this.$3.shutdown()};return a}();var j=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("LiveChatPluginContext",["React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext;d={pageID:"",icebreakers:[],isGuestLoginSupported:!1,pageName:"",isBusinessActive:!1,isMuted:!1,unreadCount:0,verifiedStatus:"",disableInput:!1,isLoggedIn:!1,chatStarted:!1,hasMessagingPermission:!1,hasMenu:!1,greetingDialogDelay:0,greetingDialogDisplay:"unset",loggedInGreeting:"",loggedOutGreeting:"",reloaded:!1,pageProfilePictureUri:"https://www.jennstrends.com/these-profile-photos-make-you-look-bad/",isMobile:!1,autolaunchInternal:!1,viewerID:"",originDomain:"",requestID:"",pageResponsivenessText:"",messageStore:null,threadColor:"",isFacebookApp:!1,canSkipContinuousAs:!1,refererUri:"",isGuestLoginSupportedMobile:!1,showInterstitialOnPage:!1,pluginMountTime:0,serverTime:0};e.exports=c({dispatchAction:b("emptyFunction"),state:d})}),null);
__d("LiveChatPluginPromptButton.react",["ix","cx","Image.react","LiveChatPluginContext","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs(b("ShimButton.react"),{className:"_4bqf promptButton",style:this.props.color!=null?{backgroundColor:this.props.color}:null,onClick:this.props.onClick,children:[(this.props.hasIcon==null||this.props.hasIcon==!0)&&i.jsx(b("Image.react"),{className:"messengerIcon",src:g("481153")}),this.props.text]})};return c}(i.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginContinueAsGuestButton.react",["cx","fbt","LiveChatPluginContext","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this.context.state,c=a.isGuestLoginSupported;a=a.pageID;c&&b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_continue_as_guest_button_rendered",a,null,null,null,null)};d.render=function(){var a=this.context.state,c=a.isGuestLoginSupported;a=a.error;var d=h._("Continue as Guest");return c&&i.jsx("div",{className:"_8kkd"+(a?" _8rna":""),children:i.jsx(b("LiveChatPluginPromptButton.react"),{hasIcon:!1,onClick:this.props.onContinueAsGuestClick,text:d})})};return c}(i.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginFbts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={DEFAULT_LOGGED_IN_GREETING_TEXT:g._("Hi! How can we help you?"),DEFAULT_LOGGED_OUT_GREETING_TEXT:g._("Hi! We're here to answer any questions you may have.")};e.exports=a}),null);
__d("LiveChatPluginCloseButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{width:"10px",height:"10px",viewBox:"0 0 14 14",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsx("g",{transform:"translate(-419.000000, -413.000000)",children:g.jsx("g",{transform:"translate(164.000000, 396.000000)",children:g.jsx("g",{children:g.jsx("g",{transform:"translate(250.000000, 12.000000)",children:g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("rect",{opacity:"0.200000003",x:"0",y:"0",width:"24",height:"24"}),g.jsxs("g",{transform:"translate(4.000000, 4.000000)",fill:"#000000",children:[g.jsx("rect",{transform:"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"}),g.jsx("rect",{transform:"translate(8.000000, 8.000000) rotate(135.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"})]})]})})})})})})})})};return b}(g.PureComponent);e.exports=a}),null);
__d("PrivacyTransparentOverlay.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsxs("div",{className:"_4cqr",children:[this.props.children,h.jsx("div",{className:"clearfix"})]})};return b}(h.PureComponent);e.exports=a}),null);
__d("LiveChatPluginPromptHeader.react",["cx","Image.react","LineClamp.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginContext","PrivacyTransparentOverlay.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.context.state,c=a.pageName,d=a.isBusinessActive,e=a.pageResponsivenessText;a=a.pageProfilePictureUri;e=e!=null?"\u30fb"+e:null;return h.jsxs("div",{className:"promptHeaderContainer",children:[h.jsx("div",{className:"promptHeaderCloseButtonContainer",children:h.jsx(b("ShimButton.react"),{className:"_2t-5",onClick:this.props.onCloseButtonClick,children:h.jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})}),h.jsx("div",{className:"profilePictureContainer",children:h.jsxs(b("PrivacyTransparentOverlay.react"),{children:[h.jsx(b("Image.react"),{className:"profilePicture",src:a}),d?h.jsx("div",{className:"_8eiw"}):null]})}),h.jsxs("div",{className:"promptHeaderAndBubbleContainer",children:[h.jsxs(b("LineClamp.react"),{className:"promptHeaderText",lines:2,children:[h.jsx("strong",{children:c}),e]}),this.props.greetingTextElem]})]})};return c}(h.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginUtils",["UserAgent"],(function(a,b,c,d,e,f){a={getIsITPUserAgent:function(){return(b("UserAgent").isBrowser("Safari >= 12")||b("UserAgent").isBrowser("Mobile Safari >= 12")||b("UserAgent").isBrowser("Firefox >= 62"))&&typeof document.hasStorageAccess==="function"},getIsSafari12OrAbove:function(){return(b("UserAgent").isBrowser("Safari >= 12")||b("UserAgent").isBrowser("Mobile Safari >= 12"))&&typeof document.hasStorageAccess==="function"},getMobileStyleText:function(){var a=screen.width;a="width: "+a+"px;";a="padding: 0; position: fixed; z-index: 2147483647;box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.15);border-radius: 16px;bottom: 24px; top: auto; right:0;"+a;return a},positionElementAtWindowFooter:function(a){a instanceof HTMLElement&&(a.style.marginTop=window.innerHeight-a.clientHeight+"px")},getMobileIconStyleText:function(){var a={margin:"0 12px 0 12px",padding:"0",position:"fixed",zIndex:2147483647,bottom:"24px",top:"auto",right:"12px",height:"60px",width:"60px",borderRadius:"50%",boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.15)",background:"none",display:"block"};return JSON.stringify(a)},getMobileLandingStyleText:function(){var a="padding: 0; position: fixed; z-index: 2147483647;box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.15);border-radius: 16px;bottom: 24px; top: auto; right:0; margin: 0 12px; height: 60px; width: calc(100% - 24px);";return a},getMobileFullScreenStyleText:function(){var a="position: fixed; z-index: 2147483647; box-shadow: none; border-radius: 0; top: 0px; right: 0px; height: 100%; width: 100%;";return a},getSanitizedGreetingText:function(a){if(a==null||a==="")return null;else if(Array.from(a).length>80)return null;else return a}};e.exports=a}),null);
__d("XCookiesPolicyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/policies/cookies/",{ref:{type:"String"},locale:{type:"String"},settings_tracking:{type:"String"},list:{type:"Exists",defaultValue:!1}})}),null);
__d("XDataPolicyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/explanation/",{ref:{type:"String"},locale:{type:"String"},settings_tracking:{type:"String"}})}),null);
__d("XTermsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/terms/",{ref:{type:"String"},from_landing_page:{type:"Bool",defaultValue:!1},locale:{type:"String"},settings_tracking:{type:"String"}})}),null);
__d("LiveChatPluginAnonymousUserPrompt.react",["cx","fbt","FDSLink.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginContinueAsGuestButton.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","LiveChatPluginPromptHeader.react","LiveChatPluginUtils","MessengerTextWithEntities.react","PluginDOMEventListener","PluginOptin","React","ReactDOM","XCookiesPolicyController","XDataPolicyController","XTermsController","gkx","shallowCompare"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.anonPromptRef=i.createRef(),d.footerRef=i.createRef(),d.headerRef=i.createRef(),d.$3=function(){var a=d.context.state,c=a.viewerID,e=a.pageID;a=a.isGuestLoginSupported;b("LiveChatPluginUtils").getIsSafari12OrAbove()&&location.reload();d.$4();b("LiveChatPluginLoggerUtil").logAction("lcustomer_chat_og_in_to_messenger_clicked",c,e);var f={button_name:"login_as"};b("LiveChatPluginLoggerUtil").logNewAction("tab_click",c,e,a?"welcome_page_with_guest_option":"welcome_page",f)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.context.state,c=a.pageID,d=a.pluginMountTime,e=a.serverTime;a=a.isGuestLoginSupported;this.$1();var f=b("ReactDOM").findDOMNode(this.anonPromptRef.current);f!==null&&b("PluginDOMEventListener").add(f,"click",function(a){});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_anonymous_chat_now_prompt_rendered",c,null,null,null,null,d,e);b("LiveChatPluginLoggerUtil").logNewImpressionEvents("tab_impression",c,a?"welcome_page_with_guest_option":"welcome_page",d,a?["log_in_messenger","continue_as_guest"]:["log_in_messenger"])};d.componentDidUpdate=function(a){(!b("shallowCompare")(this,a)||this.context.state.error)&&this.$1()};d.render=function(){var a=this.context.state,c=a.pageName,d=a.isGuestLoginSupported;a=a.pageID;try{var e=h._("Log into Messenger"),f=b("gkx")("1189683"),g=b("XTermsController").getURIBuilder().getURI(),j=b("XDataPolicyController").getURIBuilder().getURI(),k=b("XCookiesPolicyController").getURIBuilder().getURI();return i.jsxs("div",{ref:this.anonPromptRef,className:"_j68",children:[i.jsx(b("LiveChatPluginPromptHeader.react"),{ref:this.headerRef,greetingTextElem:this.$2(),onCloseButtonClick:this.props.onCloseButtonClick}),i.jsxs("div",{className:"promptFooterContainer",ref:this.footerRef,children:[i.jsx(b("LiveChatPluginPromptButton.react"),{color:this.context.state.threadColor,onClick:this.$3,text:e}),i.jsx(b("LiveChatPluginContinueAsGuestButton.react"),{onContinueAsGuestClick:this.props.onContinueAsGuestClick}),this.context.state.error?i.jsx("div",{className:"_8roq",children:h._("Sorry, Continue as Guest is temporarily unavailable. Please try again or use a different browser.")}):null,i.jsx("div",{className:"subButtonText",children:d?f?h._("By continuing as a guest, you agree to {=Facebook's Terms}. Learn how we collect, use and share your data in our {=Data Policy} and how we use cookies and similar technology in our {=Cookies Policy}.",[h._param("=Facebook's Terms",i.jsx(b("FDSLink.react"),{href:g,target:"_blank",children:h._("Facebook's Terms")})),h._param("=Data Policy",i.jsx(b("FDSLink.react"),{href:j,target:"_blank",children:h._("Data Policy")})),h._param("=Cookies Policy",i.jsx(b("FDSLink.react"),{href:k,target:"_blank",children:h._("Cookies Policy")}))]):h._("By continuing as a guest, you agree to {=Facebook's Terms}, {=Data Policy} and {=Cookies Policy}.",[h._param("=Facebook's Terms",i.jsx(b("FDSLink.react"),{href:g,target:"_blank",children:h._("Facebook's Terms")})),h._param("=Data Policy",i.jsx(b("FDSLink.react"),{href:j,target:"_blank",children:h._("Data Policy")})),h._param("=Cookies Policy",i.jsx(b("FDSLink.react"),{href:k,target:"_blank",children:h._("Cookies Policy")}))]):h._("Chat with {page name} in Messenger",[h._param("page name",c)])})]})]})}catch(c){b("LiveChatPluginLoggerUtil").logNewImpressionExceptions("tab_load_failure",a,d?"welcome_page_with_guest_option":"welcome_page",c.name,c.message,c.stack)}};d.$2=function(){if(this.context.state.loggedOutGreeting!=null)return i.jsx(b("MessengerTextWithEntities.react"),{className:"promptTextBubble",renderEmoji:!0,renderEmoticons:!0,text:this.context.state.loggedOutGreeting});else return i.jsx("div",{className:"promptTextBubble",children:b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT})};d.$4=function(){var a=this.context.state,c=a.refererUri;a=a.pageID;new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:a,switch_user:!1}).addReturnParams({customer_chat_origin_uri:c,referer_uri:c}).start()};d.$1=function(){var a=b("ReactDOM").findDOMNode(this.headerRef.current),c=b("ReactDOM").findDOMNode(this.footerRef.current);if(a instanceof HTMLElement&&c instanceof HTMLElement){a=a.offsetHeight+c.scrollHeight;c=Math.max(a,b("LiveChatPluginConstants").PROMPT_REDESIGN_FALLBACK_HEIGHT);this.props.anchorIframeResizeFn(c+b("LiveChatPluginConstants").PROMPT_CONTAINER_PADDING_HEIGHT,c)}};return c}(i.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginInformationButtonSVG.react",["LiveChatPluginContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsx("g",{transform:"translate(-413.000000, -56.000000)",children:g.jsx("g",{transform:"translate(90.000000, 44.000000)",children:g.jsx("g",{children:g.jsx("g",{children:g.jsxs("g",{transform:"translate(324.000000, 13.000000)",children:[g.jsx("circle",{fill:this.props.informationViewOpen?this.context.state.threadColor:"#FFFFFF",stroke:this.context.state.threadColor,cx:"11",cy:"11",r:"11"}),g.jsx("path",{d:"M11,9 L12,9 L12,17 L13,17 L13,17.5 L9,17.5 L9,17 L10,17 L10,9.5 L9,9.5 L9,9 L11,9 Z M11,4.5 C11.8284271,4.5 12.5,5.17157288 12.5,6 C12.5,6.82842712 11.8284271,7.5 11,7.5 C10.1715729,7.5 9.5,6.82842712 9.5,6 C9.5,5.17157288 10.1715729,4.5 11,4.5 Z",fill:this.props.informationViewOpen?"#FFFFFF":this.context.state.threadColor})]})})})})})})})};return b}(g.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginDialogHeader.react",["cx","Badge.react","LineClamp.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginContext","LiveChatPluginInformationButtonSVG.react","React","ShimButton.react","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=(a=b("qex")._("1073863"))!=null?a:!1;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null,c=this.context.state,d=c.pageName,e=c.verifiedStatus,f=c.pageResponsivenessText;c=c.autolaunchInternal;switch(e){case"blue_verified":a=h.jsx(b("Badge.react"),{type:"verified",size:"medium"});break;case"gray_verified":a=h.jsx(b("Badge.react"),{type:"page_gray_check_solid",size:"medium"});break}return h.jsxs("div",{className:"_f_0",children:[h.jsx("div",{className:"_1qd1",children:!c&&h.jsx(b("ShimButton.react"),{className:"_2t-5 _4bqf",onClick:this.props.onCloseButtonClick,children:h.jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})}),h.jsxs("div",{className:"_hov",children:[h.jsxs(b("LineClamp.react"),{className:"_how",lines:1,children:[d,i?h.jsx("span",{className:"_8gqm",children:a}):null]}),h.jsx(b("LineClamp.react"),{className:"_hox",lines:1,children:f})]}),h.jsx("div",{className:"_1qd3",children:h.jsx(b("ShimButton.react"),{className:"_4bqf _17l7",onClick:this.props.onInformationButtonClick,children:h.jsx(b("LiveChatPluginInformationButtonSVG.react"),{informationViewOpen:this.props.informationViewOpen})})})]})};return c}(h.PureComponent);c.contextType=b("LiveChatPluginContext");e.exports=c}),null);
__d("LiveChatPluginDefaultMessengerIconSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsxs("svg",{x:"0",y:"0",width:"60px",height:"60px",children:[g.jsx("defs",{children:g.jsxs("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-1",children:[g.jsx("stop",{stopColor:"#00B2FF",offset:"0%"}),g.jsx("stop",{stopColor:"#006AFF",offset:"100%"})]})}),g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsxs("g",{children:[g.jsx("circle",{fill:"#FFFFFF",cx:"30",cy:"30",r:"30"}),g.jsx("svg",{x:"10",y:"10",children:g.jsxs("g",{children:[g.jsx("rect",{id:"container",x:"0",y:"0",width:"40",height:"40"}),g.jsxs("g",{id:"logo",children:[g.jsx("path",{d:"M20,0 C8.7334,0 0,8.2528 0,19.4 C0,25.2307 2.3896,30.2691 6.2811,33.7492 C6.6078,34.0414 6.805,34.4513 6.8184,34.8894 L6.9273,38.4474 C6.9621,39.5819 8.1343,40.3205 9.1727,39.8621 L13.1424,38.1098 C13.4789,37.9612 13.856,37.9335 14.2106,38.0311 C16.0348,38.5327 17.9763,38.8 20,38.8 C31.2666,38.8 40,30.5472 40,19.4 C40,8.2528 31.2666,0 20,0",id:"bubble",fill:"url(#linearGradient-1)"}),g.jsx("path",{d:"M7.99009,25.07344 L13.86509,15.75264 C14.79959,14.26984 16.80079,13.90064 18.20299,14.95224 L22.87569,18.45674 C23.30439,18.77834 23.89429,18.77664 24.32119,18.45264 L30.63189,13.66324 C31.47419,13.02404 32.57369,14.03204 32.00999,14.92654 L26.13499,24.24744 C25.20039,25.73014 23.19919,26.09944 21.79709,25.04774 L17.12429,21.54314 C16.69559,21.22164 16.10569,21.22334 15.67879,21.54734 L9.36809,26.33674 C8.52579,26.97594 7.42629,25.96794 7.99009,25.07344",id:"bolt",fill:"#FFFFFF"})]})]})})]})})]})};return b}(g.Component);e.exports=a}),null);
__d("LiveChatPluginLoggedInMobileInterstitial.react",["cx","fbt","ix","AsyncRequest","CurrentUser","Image.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginContext","LiveChatPluginContinueAsGuestButton.react","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","PluginOptin","React","ShimButton.react","XMNLiveChatConnectController"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.onContinueAsGuestClick();var a=d.context.state,c=a.viewerID;a=a.pageID;b("LiveChatPluginLoggerUtil").logNewAction("tab_click",c,a,"welcome_page_with_guest_option",{button_name:"continue_as_guest"})},d.$2=function(){var a=d.context.state,c=a.viewerID,e=a.pageID;a=a.isGuestLoginSupported;var f=b("XMNLiveChatConnectController").getURIBuilder().setString("page_id",e).getURI();d.$1=new(b("AsyncRequest"))().setURI(f).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(d.props.onChatNowClick);d.$1.send();b("LiveChatPluginLoggerUtil").logAction("customer_chat_mobile_interstitial_continue_as_clicked",c,e);b("LiveChatPluginLoggerUtil").logNewAction("tab_click",c,e,a?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"})},d.$4=function(){var a=d.context.state,c=a.refererUri,e=a.viewerID,f=a.pageID;a=a.isGuestLoginSupported;new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:f,switch_user:!0}).addReturnParams({referer_uri:c}).start();b("LiveChatPluginLoggerUtil").logAction("customer_chat_not_you_clicked",e,f);b("LiveChatPluginLoggerUtil").logNewAction("tab_click",e,f,a?"welcome_page_with_guest_option":"welcome_page",{button_name:"switch_account"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.abandon()};d.componentDidMount=function(){var a=this.context.state,c=a.pageID,d=a.pluginMountTime;a=a.isGuestLoginSupported;b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_logged_in_mobile_interstitial_rendered",this.context.state.pageID);b("LiveChatPluginLoggerUtil").logNewImpressionEvents("tab_impression",c,a?"welcome_page_with_guest_option":"welcome_page",d,a?["continue_as","not_you_switch_account","continue_as_guest"]:["continue_as","not_you_switch_account"])};d.render=function(){var a=this.context.state,c=a.pageName,d=a.pageID,e=a.isGuestLoginSupportedMobile,f=a.isGuestLoginSupported;a=a.loggedInGreeting;try{return j.jsxs("div",{className:"_6k7_",children:[j.jsx("div",{className:"_6k80",children:j.jsx(b("ShimButton.react"),{className:"_4bqf _2t-5",onClick:this.props.onCloseButtonClick,children:j.jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})}),j.jsxs("div",{className:"_6taj",children:[j.jsx("div",{className:"_6i-9",children:c}),a?a:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT]}),j.jsxs("div",{className:"_6k81",children:[j.jsx("div",{className:"_6k82",children:j.jsx(b("LiveChatPluginDefaultMessengerIconSVG.react"),{})}),j.jsxs("div",{className:"_6k83",children:[h._("{name}'s Chat",[h._param("name",c)]),j.jsx("br",{}),h._("Powered by Messenger")]}),j.jsxs(b("ShimButton.react"),{className:"_6k84",onClick:this.$2,children:[j.jsx(b("Image.react"),{className:"_6k85",src:i("86959")}),h._("Continue as {user name}",[h._param("user name",b("CurrentUser").getName())])]}),e&&f&&j.jsx("div",{className:"_8t7u",children:j.jsx(b("LiveChatPluginContinueAsGuestButton.react"),{onContinueAsGuestClick:this.$3})}),j.jsx(b("ShimButton.react"),{className:"_6k86",onClick:this.$4,children:h._("Switch Account")})]})]})}catch(a){b("LiveChatPluginLoggerUtil").logNewImpressionExceptions("tab_load_failure",d,f?"welcome_page_with_guest_option":"welcome_page",a.name,a.message,a.stack)}};return c}(j.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginLoggedInUserPrompt.react",["cx","fbt","Arbiter","AsyncRequest","CurrentUser","FDSLink.react","Link.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginContinueAsGuestButton.react","LiveChatPluginFbts","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","LiveChatPluginPromptHeader.react","MessengerTextWithEntities.react","Plugin","PluginOptin","React","ReactDOM","XCookiesPolicyController","XDataPolicyController","XMNLiveChatConnectController","XTermsController","gkx","setTimeout","shallowCompare"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.footerRef=i.createRef(),d.headerRef=i.createRef(),d.$6=function(){var a=d.context.state,c=a.refererUri,e=a.viewerID,f=a.pageID;a=a.isGuestLoginSupported;new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:f,switch_user:!0}).addReturnParams({referer_uri:c}).start();b("LiveChatPluginLoggerUtil").logAction("customer_chat_not_you_clicked",e,f);c={button_name:"not_you"};b("LiveChatPluginLoggerUtil").logNewAction("tab_click",e,f,a?"welcome_page_with_guest_option":"welcome_page",c);b("setTimeout")(function(){location.reload()},500)},d.$5=function(){var a=d.context.state,c=a.isFacebookApp,e=a.canSkipContinuousAs,f=a.pageID,g=a.viewerID,h=a.hasMessagingPermission;a=a.isGuestLoginSupported;if(!b("CurrentUser").isLoggedInNow())return;if(h)d.props.onChatNowClick();else if(e||c){h=b("XMNLiveChatConnectController").getURIBuilder().setString("page_id",f).getURI();d.$1=new(b("AsyncRequest"))().setURI(h).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(d.props.onChatNowClick);d.$1.send()}else new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:f,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID(),switch_user:!1}).start(),b("Arbiter").subscribe(b("Plugin").CONNECT,d.props.onChatNowClick);b("LiveChatPluginLoggerUtil").logActionDEPRECATED("chat_now_clicked",g,f);b("LiveChatPluginLoggerUtil").logAction("customer_chat_chat_now_clicked",g,f);e={button_name:"continue_as"};b("LiveChatPluginLoggerUtil").logNewAction("tab_click",g,f,a?"welcome_page_with_guest_option":"welcome_page",e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.context.state,c=a.pageID,d=a.pluginMountTime,e=a.serverTime;a=a.isGuestLoginSupported;this.$2();b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_logged_in_chat_now_prompt_rendered",c,JSON.stringify({hasMessagingPermission:this.context.state.hasMessagingPermission}),null,null,null,d,e);b("LiveChatPluginLoggerUtil").logNewImpressionEvents("tab_impression",c,a?"welcome_page_with_guest_option":"welcome_page",d,a?["continue_as","not_you_switch_account","continue_as_guest"]:["continue_as","not_you_switch_account"])};d.componentDidUpdate=function(a){b("shallowCompare")(this,a)||this.$2()};d.componentWillUnmount=function(){this.$1&&this.$1.abandon()};d.render=function(){var a=this.context.state,c=a.isGuestLoginSupported;a=a.pageID;var d=this.$3(),e=b("gkx")("1189683"),f=b("XTermsController").getURIBuilder().getURI(),g=b("XDataPolicyController").getURIBuilder().getURI(),j=b("XCookiesPolicyController").getURIBuilder().getURI();try{return i.jsxs("div",{className:"_j68",children:[i.jsx(b("LiveChatPluginPromptHeader.react"),{ref:this.headerRef,greetingTextElem:this.$4(),onCloseButtonClick:this.props.onCloseButtonClick}),i.jsx("div",{className:"fillerDiv"}),i.jsxs("div",{className:"promptFooterContainer",ref:this.footerRef,children:[i.jsx(b("LiveChatPluginPromptButton.react"),{color:this.context.state.threadColor,onClick:this.$5,text:d}),i.jsx(b("LiveChatPluginContinueAsGuestButton.react"),{onContinueAsGuestClick:this.props.onContinueAsGuestClick}),i.jsx(b("Link.react"),{className:"_4bqf notYouLink",onClick:this.$6,children:h._("Not you? Log into Messenger")}),i.jsx("div",{className:"subButtonText",children:c?e?h._("By continuing as a guest, you agree to {=Facebook's Terms}. Learn how we collect, use and share your data in our {=Data Policy} and how we use cookies and similar technology in our {=Cookies Policy}.",[h._param("=Facebook's Terms",i.jsx(b("FDSLink.react"),{href:f,target:"_blank",children:h._("Facebook's Terms")})),h._param("=Data Policy",i.jsx(b("FDSLink.react"),{href:g,target:"_blank",children:h._("Data Policy")})),h._param("=Cookies Policy",i.jsx(b("FDSLink.react"),{href:j,target:"_blank",children:h._("Cookies Policy")}))]):h._("By continuing as a guest, you agree to {=Facebook's Terms}, {=Data Policy} and {=Cookies Policy}.",[h._param("=Facebook's Terms",i.jsx(b("FDSLink.react"),{href:f,target:"_blank",children:h._("Facebook's Terms")})),h._param("=Data Policy",i.jsx(b("FDSLink.react"),{href:g,target:"_blank",children:h._("Data Policy")})),h._param("=Cookies Policy",i.jsx(b("FDSLink.react"),{href:j,target:"_blank",children:h._("Cookies Policy")}))]):null})]})]})}catch(d){b("LiveChatPluginLoggerUtil").logNewImpressionExceptions("tab_load_failure",a,c?"welcome_page_with_guest_option":"welcome_page",d.name,d.message,d.stack)}};d.$3=function(){var a=b("CurrentUser").getShortName();return a!==null?h._("Continue as {first name}",[h._param("first name",a)]):h._("Continue")};d.$4=function(){var a=this.context.state.loggedInGreeting;if(a!=null)return i.jsx("div",{className:"promptTextBubble",children:i.jsx(b("MessengerTextWithEntities.react"),{className:"truncateOverflow",renderEmoji:!0,renderEmoticons:!0,text:a})});else return i.jsx("div",{className:"promptTextBubble",children:i.jsx("div",{className:"truncateOverflow",children:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT})})};d.$2=function(){var a=b("ReactDOM").findDOMNode(this.headerRef.current),c=b("ReactDOM").findDOMNode(this.footerRef.current);if(a instanceof HTMLElement&&c instanceof HTMLElement){a=a.offsetHeight+c.scrollHeight;c=Math.max(a,b("LiveChatPluginConstants").PROMPT_REDESIGN_FALLBACK_HEIGHT);this.props.anchorIframeResizeFn(c+b("LiveChatPluginConstants").PROMPT_CONTAINER_PADDING_HEIGHT,c)}};return c}(i.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginAttachmentUploadError",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze(b("keyMirror")({NO_ERROR:"",UPLOAD_FAILED:"",EXCEEDED_FILE_MAX_SIZE:"",EXCEEDED_MAX_FILES:""}));e.exports=a}),null);
__d("XMNLiveChatPluginFileUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/upload/",{})}),null);
__d("LiveChatPluginAttachmentUploadClient",["FileForm","LiveChatPluginAttachmentUploadError","LiveChatPluginLoggerUtil","MercuryConstants","PhotosUploadID","SubscriptionsHandler","XMNLiveChatPluginFileUploadController","cssURL"],(function(a,b,c,d,e,f){"use strict";var g=5;a=function(){function a(a,c,d,e){var f=this;this.$14=function(a,b){((a=b)!=null?(a=a.response)!=null?(a=a.payload)!=null?a.result:a:a:a)==="success"?f.$22(b):f.$23(b)};this.$1=new Map();this.$2=new Map();this.$3=new Map();this.$4=new Map();this.$5=d;this.$6=c;this.$7=new(b("SubscriptionsHandler"))();this.$8=a;this.$9=new Set();this.$10=new Map();this.$11=e}var c=a.prototype;c.onSubmitFileList=function(a){this.$6(b("LiveChatPluginAttachmentUploadError").NO_ERROR);var c=this.$12();c=this.$13(c);this.$7.addSubscriptions(c.subscribe("success",this.$14));if(a){if(a.length+this.$2.size>g){this.$6(b("LiveChatPluginAttachmentUploadError").EXCEEDED_MAX_FILES);b("LiveChatPluginLoggerUtil").logAction("customer_chat_attachment_upload_failed",this.$11,this.$5,JSON.stringify({error:"exceeded_max_files"}));return}var d={};for(var e=0;e<a.length;e++){var f=a[e];if(f.size>b("MercuryConstants").AttachmentMaxSize){this.$6(b("LiveChatPluginAttachmentUploadError").EXCEEDED_FILE_MAX_SIZE);b("LiveChatPluginLoggerUtil").logAction("customer_chat_attachment_upload_failed",this.$11,this.$5,JSON.stringify({error:"exceeded_max_file_size"}));return}var h=this.$15();d[h]=f;this.$9.add(h);this.$2.set(h,{name:f.name,thumbnail_url:b("cssURL")(window.URL.createObjectURL(f)),type:f.type});b("LiveChatPluginLoggerUtil").logAction("customer_chat_attachment_upload_submitted",this.$11,this.$5,JSON.stringify({uploadID:h}))}c.setFiles(d);c.forceSendViaXHR()}this.$8(this.$16(),this.$17())};c.removeAttachment=function(a){this.$9["delete"](a),this.$1["delete"](a),this.$2["delete"](a),this.$4["delete"](a),this.$3["delete"](a),this.$10["delete"](a),this.$8(this.$16(),this.$17(),this.$18(),this.$19(),this.$20(),this.$21()),b("LiveChatPluginLoggerUtil").logAction("customer_chat_attachment_upload_removed",this.$11,this.$5,JSON.stringify({uploadID:a}))};c.removeAllAttachments=function(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$9=new Set(),this.$10=new Map(),this.$8(this.$16(),this.$17(),this.$18(),this.$19(),this.$20(),this.$21())};c.$22=function(a){var c=a.response.payload;a=a.upload.getName();c=c.metadata[0];this.$9.has(a)&&(this.$9["delete"](a),c.image_id?this.$4.set(a,c.image_id):c.gif_id?this.$1.set(a,c.gif_id):c.video_id?this.$10.set(a,c.video_id):this.$3.set(a,c.file_id),this.$8(this.$16(),this.$17()),b("LiveChatPluginLoggerUtil").logAction("customer_chat_attachment_upload_completed",this.$11,this.$5,JSON.stringify({uploadID:a})));this.$24()||this.$8(this.$16(),this.$17(),this.$18(),this.$19(),this.$20(),this.$21())};c.$23=function(a){this.removeAttachment(a.upload.getName()),this.$6(b("LiveChatPluginAttachmentUploadError").UPLOAD_FAILED),b("LiveChatPluginLoggerUtil").logAction("customer_chat_attachment_upload_failed",this.$11,this.$5,JSON.stringify({error:"upload_failed"}))};c.$20=function(){return this.$4.size===0?[]:Array.from(this.$4.values())};c.$18=function(){return this.$1.size===0?[]:Array.from(this.$1.values())};c.$21=function(){return this.$10.size===0?[]:Array.from(this.$10.values())};c.$19=function(){return this.$3.size===0?[]:Array.from(this.$3.values())};c.$24=function(){return this.$9.size!==0};c.$16=function(){return this.$2};c.$17=function(){return this.$9};c.$12=function(){var a=document.createElement("form");a.action=b("XMNLiveChatPluginFileUploadController").getURIBuilder().getURI().toString();a.method="post";return a};c.$13=function(a){a=new(b("FileForm"))(a);a.setAllowCrossOrigin(!0);a.setUploadInParallel(!0);return a};c.$15=function(){return"upload_"+b("PhotosUploadID").getNewID()};c.destroy=function(){this.$7.release(),delete this.$7};return a}();e.exports=a}),null);
__d("LiveChatPluginAttachmentInput.react",["cx","InlineBlock.react","LiveChatPluginAttachmentUploadClient","LiveChatPluginContext","LiveChatPluginLoggerUtil","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=d.context.state,c=a.viewerID;a=a.pageID;b("LiveChatPluginLoggerUtil").logAction("customer_chat_attachment_button_clicked",c,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=new(b("LiveChatPluginAttachmentUploadClient"))(this.props.updateComposerAttachmentsAndIDs,this.props.setComposerAttachmentError,this.props.pageID,this.props.viewerID)};d.componentWillUnmount=function(){this.$1.destroy()};d.render=function(){var a=this;return h.jsx(b("InlineBlock.react"),{className:"_64mk _2ez5",onClick:this.$2,children:h.jsx("input",{accept:"application/msword, application/pdf, text/csv, text/plain, image/*, video/*",className:"_2ez6",multiple:!0,name:"attachment[]",onChange:function(b){a.$3(b)},ref:"fileInput",title:"Add Files",type:"file"})})};d.$3=function(a){this.$1.onSubmitFileList(a.target.files),a.target.value=""};d.removeAttachment=function(a){this.$1.removeAttachment(a)};d.removeAllAttachments=function(){this.$1.removeAllAttachments()};return c}(h.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginBotMenuButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsxs("g",{fill:this.props.threadColor,children:[g.jsx("rect",{x:"2",y:"3",width:"20",height:"1"}),g.jsx("rect",{x:"2",y:"11",width:"20",height:"1"}),g.jsx("rect",{x:"2",y:"19",width:"20",height:"1"})]})})})};return b}(g.Component);e.exports=a}),null);
__d("LiveChatPluginArrowButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.direction==="left"?g.jsx("g",{fill:this.props.threadColor,children:g.jsx("polygon",{points:"5.5 12 16 1.5 18 3.5 9.5 12 18 20.5 16 22.5"})}):g.jsx("g",{fill:this.props.threadColor,children:g.jsx("polygon",{points:"8 7 9.5 5.5 16 12 9.5 18.5 8 17 13 12"})});return g.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a})})};return b}(g.Component);e.exports=a}),null);
__d("LiveChatPluginBotMenuDialog.react",["cx","fbt","Link.react","LiveChatPluginArrowButtonSVG.react","LiveChatPluginContext","LiveChatPluginLoggerUtil","MercuryIDs","MNCommercePostbackCTADataManager","React","ShimButton.react","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.state={navigationPath:[]};e.$9=function(){var a=e.context.state,c=a.viewerID,d=a.pageID;a=a.isAnonymousViewer;e.props.closeDialogFn();b("LiveChatPluginLoggerUtil").logAction("customer_chat_bot_menu_url_redirect_clicked",c,d);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",c,d,a?"guest_chat_tab":"logged_in_chat_tab",{action_type:"customer_chat_bot_menu_url_redirect_clicked"})};e.$1=b("LiveChatPluginLoggerUtil").getAttributionTags();e.$2=b("MercuryIDs").getThreadIDFromUserID(e.context.state.pageID);return e}var d=c.prototype;d.render=function(){var a=this,b=null,c=[],d=this.props.menuItems;for(var e=0;e<this.state.navigationPath.length;e++){var f=this.state.navigationPath[e];d!=null&&(b=d[f].title,d=d[f].nested_ctas)}c=d&&d.map(function(c,b){return a.$3(c,b)});return i.jsxs("div",{className:"_6d42",children:[this.$4(b||h._("Menu")),c]})};d.$4=function(a){var c=this,d=this.state.navigationPath.length!==0?i.jsx(b("Link.react"),{className:"_4bqf _6d43",onClick:function(a){c.setState(function(a){return{navigationPath:a.navigationPath.slice(0,-1)}})},children:i.jsx(b("LiveChatPluginArrowButtonSVG.react"),{direction:"left",threadColor:this.context.state.threadColor})}):null;return i.jsxs("div",{className:"_6d44 _6d45",children:[d,a]})};d.$3=function(a,b){var c;switch(a.action_type){case 4:c=this.$5(a);break;case 2:c=this.$6(a);break;case 11:c=this.$7(a,b);break;default:c=this.$8(a);break}return i.jsx("div",{className:"_6d46",children:i.jsx("div",{className:"_6d45 _4bqf",children:c})},a.id)};d.$8=function(a){return i.jsx(b("Tooltip.react"),{className:"_6d47",tooltip:h._("To use this feature, use the Messenger app."),children:a.title})};d.$6=function(a){return i.jsx(b("Link.react"),{className:"_6d48",href:a.action_link,onClick:this.$9,style:{color:this.context.state.threadColor},target:"_blank",children:a.title})};d.$7=function(a,c){var d=this,e=this.context.state.threadColor,f=function(a){d.setState(function(a){return{navigationPath:a.navigationPath.concat(c)}})};return i.jsxs(b("ShimButton.react"),{className:"_6d49",onClick:f,children:[i.jsx(b("Link.react"),{style:{color:e},children:a.title}),i.jsx("div",{className:"_6d4a",children:i.jsx(b("LiveChatPluginArrowButtonSVG.react"),{direction:"right",threadColor:e})})]})};d.$5=function(a){var c=this,d=this.context.state,e=d.viewerID,f=d.pageID,g=d.threadColor,h=d.isAnonymousViewer;d=function(d){c.props.closeDialogFn();if(!c.context.state.isAnonymousViewer)b("MNCommercePostbackCTADataManager").sendAndConfirm(a.id,a.title||"",c.$2,null,null,null,c.$1,null,"CUSTOMER_CHAT_PLUGIN","source:discovery:customer_chat_plugin");else{d=c.context.state.messageStore;d=d.sendQueue;if(!d)return;d.enqueueAndSend(a.title||"",d.makePlatformTokenForPostbackCTA(a.id))}b("LiveChatPluginLoggerUtil").logAction("customer_chat_bot_menu_postback_clicked",e,f);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",e,f,h?"guest_chat_tab":"logged_in_chat_tab",{action_type:"customer_chat_bot_menu_postback_clicked"})};return i.jsx(b("Link.react"),{className:"_6d48",onClick:d,style:{color:g},children:a.title})};return c}(i.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("MPNLocalState",[],(function(a,b,c,d,e,f){"use strict";a={LANDING_BANNER:1,LANDING_ICON:2,WELCOME_PAGE:3,ITP_CONTINUE:4,THREAD_VIEW:5};b={CHAT_NOT_STARTED:1,LOGGED_IN_CHAT_STARTED:2,GUEST_CHAT_STARTED:3};c="__fb_messaging_plugin";e.exports={MPNLocalStatePath:a,MPNChatState:b,LOCAL_STATE_KEY:c}}),null);
__d("MessagingPluginPathUtils",["MPNLocalState","MPNStorage"],(function(a,b,c,d,e,f){"use strict";var g=b("MPNLocalState").MPNChatState,h=b("MPNLocalState").MPNLocalStatePath,i={LANDING:"/",WELCOME:"/welcome",ITPCONTINUE:"/itpcontinue",THREAD:"/thread",ICON:"/icon"};a={getMobilePathFromLocalStatePathEnum:function(a){switch(a){case h.LANDING_BANNER:return i.LANDING;case h.LANDING_ICON:case h.WELCOME_PAGE:return i.ICON;case h.ITP_CONTINUE:return i.ITPCONTINUE;case h.THREAD_VIEW:return i.THREAD}return i.LANDING},toEnumPath:function(a){switch(a){case i.LANDING:return h.LANDING_BANNER;case i.WELCOME:return h.WELCOME_PAGE;case i.ICON:return h.LANDING_ICON;case i.ITPCONTINUE:return h.ITP_CONTINUE;case i.THREAD:return h.THREAD_VIEW}return h.LANDING_BANNER},toMobilePath:function(a){switch(a){case h.LANDING_BANNER:return i.LANDING;case h.WELCOME_PAGE:return i.WELCOME;case h.LANDING_ICON:return i.ICON;case h.ITP_CONTINUE:return i.ITPCONTINUE;case h.THREAD_VIEW:return i.THREAD}return i.LANDING},getNextMobilePathForIcon:function(){var a=b("MPNStorage").getFBStorageState();if(a==null)return i.LANDING;return a.chatState==g.CHAT_NOT_STARTED?i.WELCOME:i.THREAD}};e.exports={MOBILE_PATH:i,MessagingPluginPathUtils:a}}),null);
__d("MPNSingletonProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=null,this.$2=a}var b=a.prototype;b.get=function(){this.$1==null&&(this.$1=this.$2());return this.$1};b.clear=function(){this.$1=null};return a}();e.exports=a}),null);
__d("MPNStorage",["MessagingPluginLocalStorage","MPNLocalState","MPNSingletonProvider","MPNXDMessageManager","WebStorage"],(function(a,b,c,d,e,f){"use strict";var g,h=b("MPNLocalState").MPNChatState,i=b("MPNLocalState").MPNLocalStatePath,j="messaging_plugin",k=function(){function a(){this.domain="",this.pageID="0",this.requestID=""}var c=a.prototype;c.initialize=function(a,b,c){this.domain=a,this.pageID=b,this.requestID=c};c.setInitialStateIfNecessary=function(){var a=this.getFBStorageState();if(a!=null)return;this.setFBStorageState({requestID:this.requestID,currentPath:i.LANDING_BANNER,userID:"0",chatState:h.CHAT_NOT_STARTED,visibility:"not-hidden",accessToken:null,expirationTimestamp:null})};c.getStorageKey=function(){return j+"_"+this.domain+"_"+this.pageID};c.getITPRedirectCommand=function(){var a=this.getFBStorageState();return a==null?void 0:a.itpRdr};c.clearITPRedirectCommand=function(){var a=this.getFBStorageState();if(a==null)return;this.setFBStorageState(babelHelpers["extends"]({},a,{itpRdr:null}))};c.setPath=function(a){b("MPNXDMessageManager").storeThirdPartyState(a);var c=this.getFBStorageState();if(c==null)return;this.setFBStorageState(babelHelpers["extends"]({},c,{currentPath:a}))};c.setVisibility=function(a){b("MPNXDMessageManager").storeThirdPartyState(null,null,a);var c=this.getFBStorageState();if(c==null)return;this.setFBStorageState(babelHelpers["extends"]({},c,{visibility:a}))};c.getFBStorageState=function(){var a=b("MessagingPluginLocalStorage").get();if(a==null)return null;try{a=a.getItem(this.getStorageKey());return a==null?null:JSON.parse(a)}catch(a){}return null};c.setFBStorageState=function(a){b("MPNXDMessageManager").storeThirdPartyState(a.currentPath,a.chatState);var c=b("MessagingPluginLocalStorage").get();if(c==null)return;try{(g||(g=b("WebStorage"))).setItemGuarded(c,this.getStorageKey(),JSON.stringify(a))}catch(a){}};c.clearFBStorageState=function(){var a=b("MessagingPluginLocalStorage").get();if(a==null)return;try{a.removeItem(this.getStorageKey())}catch(a){}};c.setThirdPartyStorageState=function(a){b("MPNXDMessageManager").storeThirdPartyState(a.path,a.chatState,a.visibility)};c.clearThridPartyStorageState=function(){b("MPNXDMessageManager").removeThirdPartyState()};return a}();a=new(b("MPNSingletonProvider"))(function(){return new k()});e.exports=a.get()}),null);
__d("MPNXDMessageManager",["LiveChatPluginUtils","MessagingPluginPathUtils","MPNSingletonProvider","UnverifiedXD","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("MessagingPluginPathUtils").MOBILE_PATH,h=function(){function a(){var a=this;this.$1=b("immutable").Map();this.$2=b("immutable").Map();window.addEventListener("message",function(b){a.$5(a.$1,b)});window.addEventListener("storage",function(b){a.$5(a.$2,b)})}var c=a.prototype;c.$5=function(a,b){a.forEach(function(a,c,d){if(a){(c.eventName==null||c.eventName==((d=b.data)==null?void 0:d.name)||c.eventName==((d=b.data)==null?void 0:(c=d.message)==null?void 0:c.method))&&a(b)}})};c.subscribeEvent=function(a,b,c,d){switch(b){case"message":this.$1=this.$1.set({key:a,eventName:c},d);break;case"storage":this.$2=this.$2.set({key:a,eventName:c},d);break;default:return}};c.unsubscribeEvent=function(a,b){switch(b){case"message":this.$1=this.$1.filter(function(b,c,d){return c.key!=a});break;case"storage":this.$1=this.$1.filter(function(b,c,d){return c.key!=a});break;default:return}};c.showPromptAndFadeWithDelay=function(a,b,c,d){var e=this;this.$3=window.setTimeout(function(){e.updateAppearance(!0,!1,c,d,null),b>0&&(e.$4=window.setTimeout(function(){e.updateAppearance(!0,!0,c,d,null)},b))},a)};c.clearPromptAndFadeTimer=function(){this.$3&&window.clearTimeout(this.$3),this.$4&&window.clearTimeout(this.$4)};c.initializeAndAnchorIframe=function(a,c,d,e){d===void 0&&(d=!1),e===void 0&&(e=!1),b("UnverifiedXD").send({type:"liveChatPluginPrepareAnchorIframe",chatStarted:a,dialogHidden:c,isMobile:d,showInterstitialOnPage:e})};c.initializeMobileIframe=function(a){b("UnverifiedXD").send({type:"mpn.prepreMobileIframe",cssText:a})};c.setupIconIframe=function(a){b("UnverifiedXD").send({type:"mpn.prepreIconIframe",cssText:b("LiveChatPluginUtils").getMobileIconStyleText(),frameName:a})};c.setupMobileIframeForPath=function(a){var c=null;switch(a){case g.LANDING:c=b("LiveChatPluginUtils").getMobileLandingStyleText();break;case g.WELCOME:case g.ITPCONTINUE:case g.THREAD:c=b("LiveChatPluginUtils").getMobileFullScreenStyleText();break;case g.ICON:c=b("LiveChatPluginUtils").getMobileIconStyleText();break}c!=null&&b("UnverifiedXD").send({type:"mpn.prepreMobileIframe",cssText:c})};c.resizeIframe=function(a){b("UnverifiedXD").send({type:"mpn.resizeIframe",height:a})};c.setMobileIframeFullScreen=function(){b("UnverifiedXD").send({type:"mpn.setMobileFullScreen"})};c.expandIframe=function(a){b("UnverifiedXD").send({type:"liveChatPluginExpandDialogIframe",isMobile:a})};c.updateAppearance=function(a,c,d,e,f,g){g===void 0&&(g="false"),b("UnverifiedXD").send({type:"mpn.setAppearance",shouldSetHidden:a,hidden:c,chatStarted:d,isMobile:e,shadow:f,isNewMobileExperience:g})};c.updateTabTitle=function(a){b("UnverifiedXD").send({type:"liveChatPluginUpdatePageTitle",titleText:a})};c.storeThirdPartyState=function(a,c,d){var e={};a!=null&&(e=babelHelpers["extends"]({},e,{path:a}));c!=null&&(e=babelHelpers["extends"]({},e,{chatState:c}));d!=null&&(e=babelHelpers["extends"]({},e,{visibility:d}));b("UnverifiedXD").send({type:"mpn.storeState",state:JSON.stringify(e)})};c.removeThirdPartyState=function(){b("UnverifiedXD").send({type:"mpn.storeState"})};c.reloadPlugin=function(){b("UnverifiedXD").send({type:"mpn.reload"})};c.showChatIconIframe=function(a,c){b("UnverifiedXD").send({type:"liveChatPluginShowBubbleIframe",dialogHidden:a,showBadge:c})};c.createChatIconIframe=function(a){b("UnverifiedXD").send({type:"liveChatPluginGetBubbleIframe",fromIframe:a})};c.showIntersititalOnPage=function(a){b("UnverifiedXD").send({type:"liveChatPluginShowInterstitialOnPage",dialogHidden:a})};return a}();a=new(b("MPNSingletonProvider"))(function(){return new h()});e.exports=a.get()}),null);
__d("LiveChatPluginGuestUserRelayEnvironment",["requireCond","LiveChatPluginLocalStorageUtil","MPNStorage","RelayFBResponseCache","RelayModern","RelayRuntime","URI","cr:1121434","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").createEnvironment;a=b("RelayRuntime").RecordSource;c=b("RelayRuntime").Store;d=new a();var i=new c(d,{gcReleaseBufferSize:10}),j=(a=(f=b("MPNStorage").getFBStorageState())==null?void 0:f.accessToken)!=null?a:b("LiveChatPluginLocalStorageUtil").getAccessToken(),k=(d=(c=b("MPNStorage").getFBStorageState())==null?void 0:c.userID)!=null?d:b("LiveChatPluginLocalStorageUtil").getSessionFBID();f=function(a,b){if(!l.called)return!1;if(a!=j||b!=k){j=a;k=b;return!1}return!0};var l=function a(c,d){a.called=!0;var e=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({graphURI:new(g||(g=b("URI")))("/api/live_chat/graphql"),accessToken:c,getAdditionalData:function(){return{accessToken:c,view_context_type:"lcop"}},queryResponseCache:b("RelayFBResponseCache")}),b("createRelayFBSubscribeFunction")({queryResponseCache:b("RelayFBResponseCache")}));return new h({configName:"LiveChatPluginGuestUserRelayEnvironment",log:b("cr:1121434")!=null?b("cr:1121434")():null,network:e,store:i,actorID:d})};e.exports={get:l,isEnvSet:f}}),null);
__d("getLiveChatPluginGuestUserRelayEnvironment",["LiveChatPluginGuestUserRelayEnvironment","LiveChatPluginLocalStorageUtil","MPNStorage","RelayFBEnvironment"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayFBEnvironment");a=function(){var a,c;a=(a=(a=b("MPNStorage").getFBStorageState())==null?void 0:a.accessToken)!=null?a:b("LiveChatPluginLocalStorageUtil").getAccessToken();c=(c=(c=b("MPNStorage").getFBStorageState())==null?void 0:c.userID)!=null?c:b("LiveChatPluginLocalStorageUtil").getSessionFBID();a!=null&&c!=null&&b("LiveChatPluginGuestUserRelayEnvironment").isEnvSet(a,c)===!1&&(g=b("LiveChatPluginGuestUserRelayEnvironment").get(a,c));return g};e.exports=a}),null);
__d("LiveChatPluginGuestPersistentMenuQuery",["MNCommerceCallToActionType","RelayModern","getLiveChatPluginGuestUserRelayEnvironment","promiseDone","LiveChatPluginGuestPersistentMenuQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveChatPluginGuestPersistentMenuQuery.graphql");a=function(a,c,d){b("promiseDone")(h(b("getLiveChatPluginGuestUserRelayEnvironment")(),i,{data:{page_id:a,session_key:c}}),function(a){a=a==null?void 0:a.customer_chat_plugin_guest_user_persistent_menu;if(a==null){d(a);return}a=a.menu_items.map(function(a){return a==null?null:{title:a.title,id:a.id,action_link:a.action_link,action_type:b("MNCommerceCallToActionType")[a.action_type]}});d(a)})};e.exports={fetch:a}}),null);
__d("LiveChatPluginBotMenuButton.react",["csx","cx","AsyncRequest","LiveChatPluginBotMenuButtonSVG.react","LiveChatPluginBotMenuDialog.react","LiveChatPluginContext","LiveChatPluginGuestPersistentMenuQuery","LiveChatPluginLoggerUtil","MessengerContextualDialog.react","Parent","React","ReactDOM","ShimButton.react","Style","XMessengerBotsMenuController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={flyoutOpen:!1,menuItems:null},d.$4=function(){d.setState(function(a){return{flyoutOpen:!a.flyoutOpen}},d.$8),d.props.onClick()},d.$7=function(){d.setState({flyoutOpen:!1})},d.$6=function(){d.state.flyoutOpen&&d.$3()},d.$8=function(){var a=d.context.state,c=a.viewerID,e=a.pageID;a=a.isAnonymousViewer;b("LiveChatPluginLoggerUtil").logAction(d.state.flyoutOpen?"customer_chat_bot_menu_opened":"customer_chat_bot_menu_closed",c,e);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",c,e,a?"guest_chat_tab":"logged_in_chat_tab",{action_type:d.state.flyoutOpen?"customer_chat_bot_menu_opened":"customer_chat_bot_menu_closed"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.state.menuItems==null&&this.$2()};d.componentDidUpdate=function(){this.state.menuItems==null&&this.context.state.sessionKey&&this.$2()};d.componentWillUnmount=function(){this.$1&&(this.$1.abort(),this.$1=null),this.state.flyoutOpen&&this.$3()};d.render=function(){return this.context.state.hasMenu&&i.jsxs(b("ShimButton.react"),{className:"_661n",onClick:this.$4,ref:"botMenuContainer",children:[i.jsx(b("LiveChatPluginBotMenuButtonSVG.react"),{threadColor:this.context.state.threadColor}),this.$5()]})};d.$5=function(){var a=this;return!this.state.flyoutOpen||!this.state.menuItems?null:i.jsx(b("MessengerContextualDialog.react"),{alignment:"right",contextRef:function(){return a.refs.botMenuContainer},hideOnBlur:!0,onBeforeHide:this.$6,position:"above",ref:function(c){if(a.props.isMobile&&c){c=b("Parent").bySelector(b("ReactDOM").findDOMNode(c),"._1r_9");var d=window.innerWidth<310?window.innerWidth-10:300;b("Style").set(c,"max-width",d+"px");b("Style").set(c,"-webkit-tap-highlight-color","transparent")}},shown:this.state.flyoutOpen,width:window.innerWidth<310?window.innerWidth-10:300,children:i.jsx(b("LiveChatPluginBotMenuDialog.react"),{closeDialogFn:this.$7,menuItems:this.state.menuItems})})};d.$2=function(){var a=this,c=this.context,d=c.state,e=c.dispatchAction;c=d.pageID;var f=d.isAnonymousViewer,g=d.sessionKey;d=d.hasMenu;if(f&&g)b("LiveChatPluginGuestPersistentMenuQuery").fetch(c,g,function(b){b!=null&&b.length>0?(a.setState({menuItems:b}),e({type:"TOGGLE_HAS_MENU",hasMenu:!0})):(a.setState({menuItems:[]}),e({type:"TOGGLE_HAS_MENU",hasMenu:!1}))});else if(d&&!f){c=b("XMessengerBotsMenuController").getURIBuilder().setString("page_id",this.context.state.pageID).getURI();this.$1=new(b("AsyncRequest"))().setURI(c).setHandler(function(b){a.setState({menuItems:b.payload.menu})}).setErrorHandler(function(b){a.setState({menuItems:[]})});this.$1.send()}};d.$3=function(){this.setState({flyoutOpen:!1},this.$8)};return c}(i.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginLikeButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{height:"24px",preserveAspectRatio:"xMinYMax meet",viewBox:"0 0 40.16 42.24",width:"22px",children:g.jsx("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:"none",fillRule:"evenodd",stroke:this.props.threadColor,strokeLinecap:"round",strokeWidth:"2"})})};return b}(g.PureComponent);e.exports=a}),null);
__d("LiveChatPluginMessageComposerAttachmentItem.react",["cx","ix","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment;if(a.type.startsWith("image/"))return[i.jsx("div",{className:"_3l_i",style:{backgroundImage:a.thumbnail_url}},this.props.uploadID+"item"),i.jsx(b("ShimButton.react"),{className:"_3l_j _3l_k",onClick:this.props.removeAttachment},this.props.uploadID+"removeButton")];var c=i.jsx("div",{className:"_3l_l",style:{backgroundColor:this.props.threadColor},children:i.jsx(b("Image.react"),{src:a.type.startsWith("video/")?h("359148"):h("359146")})});a=a.name;var d=a.split(".").pop().toUpperCase();return i.jsxs("div",{className:"_3l_m",children:[c,i.jsxs("div",{className:"_3l_n",children:[i.jsx("div",{className:"_3l_o",children:d}),i.jsx("div",{className:"_3l_p",children:a})]}),i.jsx(b("ShimButton.react"),{className:"_3l_j _3l_q",onClick:this.props.removeAttachment})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("LiveChatPluginMessageComposerAttachmentShelf.react",["cx","fbt","LiveChatPluginAttachmentUploadError","LiveChatPluginMessageComposerAttachmentItem.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$1=new Map();return b}var d=c.prototype;d.render=function(){var a=this;if(this.props.attachments.size===0&&this.props.error===b("LiveChatPluginAttachmentUploadError").NO_ERROR)return null;this.props.attachments.forEach(function(b,c){a.$1.has(c)||a.$1.set(c,b)});this.$1.forEach(function(b,c){a.props.attachments.has(c)||a.$1["delete"](c)});var c=Array.from(this.$1).map(function(c){var d=c[0];c=c[1];return i.jsxs("div",{className:"_1i5v",children:[i.jsx(b("LiveChatPluginMessageComposerAttachmentItem.react"),{attachment:c,removeAttachment:function(){a.props.removeAttachment(d)},threadColor:a.props.threadColor,uploadID:d}),a.props.uploadingAttachments.has(d)?i.jsx(b("XUISpinner.react"),{className:"_1i63",background:"dark",size:"large"}):null]},d)});return i.jsxs("div",{className:"_1i69",children:[this.$2(),i.jsx("div",{className:"_2l9u",children:c})]})};d.$2=function(){var a;switch(this.props.error){case b("LiveChatPluginAttachmentUploadError").EXCEEDED_MAX_FILES:a=h._("Upload no more than 5 files at once. Please try again.");break;case b("LiveChatPluginAttachmentUploadError").EXCEEDED_FILE_MAX_SIZE:a=h._("This file exceeds the size limit of 25MB.");break;case b("LiveChatPluginAttachmentUploadError").UPLOAD_FAILED:a=h._("This file couldn't be uploaded. Please try again.");break;case b("LiveChatPluginAttachmentUploadError").NO_ERROR:default:return null}return i.jsx("div",{className:"_2l9v",children:a})};return c}(i.PureComponent);e.exports=a}),null);
__d("LiveChatPluginSendButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsx("g",{transform:"translate(-5.000000, -5.000000)",fill:this.props.threadColor,children:g.jsx("g",{children:g.jsx("g",{transform:"translate(5.000000, 5.000000)",children:g.jsx("path",{d:"M2.0300068,0.145970044 L20.9662955,9.37015518 C22.3445682,10.0420071 22.3445682,11.9582654 20.9662955,12.6296618 L2.0300068,21.853847 C1.09728834,22.3084288 0,21.6475087 0,20.6317597 L0.806953417,13.8945654 C0.882225434,13.2659853 1.39089595,12.7699536 2.03608467,12.6957083 L12.0229514,11.6795038 C12.8612292,11.5943266 12.8612292,10.4054904 12.0229514,10.3203132 L2.03608467,9.30410872 C1.39089595,9.23031889 0.882225434,8.7342872 0.806953417,8.10525162 L0,1.36805729 C0,0.352308292 1.09728834,-0.3081563 2.0300068,0.145970044"})})})})})})};return b}(g.PureComponent);e.exports=a}),null);
__d("LiveChatPluginMessageComposer.react",["cx","fbt","AbstractTextInput.react","Keys","LiveChatPluginAttachmentInput.react","LiveChatPluginAttachmentUploadError","LiveChatPluginBotMenuButton.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginLikeButtonSVG.react","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposerAttachmentShelf.react","LiveChatPluginSendButtonSVG.react","MercuryIDs","MercuryMessageActions","MercuryMessageObject","React","ShimButton.react","StickerConstants"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.state={attachmentsDataMap:new Map(),error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:"",uploadingAttachments:new Set()};e.$20=function(a){e.props.onChange(),e.setState({error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:a.target.value})};e.$21=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),e.$18())};e.$18=function(){e.context.state.isGuestLoginSupported&&(e.context.state.sessionKey||e.context.state.isAnonymousViewer)?e.$22():e.$23()};e.$19=function(){var a=e.context.state,c=a.viewerID,d=a.pageID;a=a.isAnonymousViewer;var f=e.$7.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,"source:discovery:customer_chat_plugin",e.$8,e.$9);f.is_like_preview=!0;e.$6.send(f);e.setState({error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:""});b("LiveChatPluginLoggerUtil").logAction("customer_chat_like_button_clicked",c,d);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",c,d,a?"guest_chat_tab":"logged_in_chat_tab",{action_type:"customer_chat_like_button_clicked"})};e.$11=function(a){e.$2&&e.$2.removeAttachment(a)};e.$16=function(a){e.setState({error:a})};e.$17=function(a,c,d,f,g,h){d&&(e.$1=d),f&&(e.$3=f),g&&(e.$4=g),h&&(e.$10=h),e.setState({attachmentsDataMap:new Map(a),error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,uploadingAttachments:new Set(c)}),e.focus()};c=e.context.state;d=c.viewerID;c=c.pageID;e.$6=b("MercuryMessageActions").getForFBID(d);e.$7=b("MercuryMessageObject").getForFBID(d);e.$8=b("MercuryIDs").getThreadIDFromUserID(c);e.$9=b("LiveChatPluginLoggerUtil").getAttributionTags();e.$1=[];e.$3=[];e.$4=[];e.$10=[];return e}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_336a"+(this.context.state.disableInput?" _664i":""),children:[i.jsx(b("LiveChatPluginMessageComposerAttachmentShelf.react"),{attachments:this.state.attachmentsDataMap,error:this.state.error,removeAttachment:this.$11,threadColor:this.context.state.threadColor,uploadingAttachments:this.state.uploadingAttachments}),i.jsxs("div",{className:"_4zbw",children:[this.$12(),this.$13(),i.jsxs("div",{className:"_kmd",children:[this.$14(),this.$15()]})]})]})};d.$14=function(){var a=this;return this.props.isMobile||this.context.state.disableInput||this.context.state.isAnonymousViewer?null:i.jsx(b("LiveChatPluginAttachmentInput.react"),{pageID:this.context.state.pageID,ref:function(b){a.$2=b},setComposerAttachmentError:this.$16,updateComposerAttachmentsAndIDs:this.$17,viewerID:this.context.state.viewerID})};d.$15=function(){if(this.context.state.disableInput)return null;if(this.context.state.isAnonymousViewer&&!this.context.state.sessionKey)return null;if(this.state.inputValue.length>0||this.state.attachmentsDataMap.size>0||this.context.state.isAnonymousViewer){var a=this.state.inputValue.length===0&&this.state.attachmentsDataMap.size===0;return i.jsx(b("ShimButton.react"),{className:(a?"":"_4bqf")+" _64mk _64ml"+(a?" _8pz4":""),onClick:this.$18,children:i.jsx(b("LiveChatPluginSendButtonSVG.react"),{threadColor:a?b("LiveChatPluginConstants").GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT:this.context.state.threadColor})})}else return i.jsx(b("ShimButton.react"),{className:"_4bqf _64mk _68t0",onClick:this.$19,children:i.jsx(b("LiveChatPluginLikeButtonSVG.react"),{threadColor:this.context.state.threadColor})})};d.$13=function(){var a=this,c=this.context.state,d=c.pageName;c=c.disableInput;if(c)return i.jsx("div",{className:"_664k",children:h._("{page name} disabled typing.",[h._param("page name",d)])});return this.context.state.isAnonymousViewer&&!this.context.state.sessionKey?i.jsx("div",{className:"_664k",children:h._("Loading...")}):i.jsx("div",{className:"_4fwe",children:i.jsx(b("AbstractTextInput.react"),{onBlur:this.props.onBlur,onChange:this.$20,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:this.$21,ref:function(b){a.$5=b},placeholder:h._("Type a message...").toString(),value:this.state.inputValue})})};d.$12=function(){return i.jsx(b("LiveChatPluginBotMenuButton.react"),{isMobile:this.props.isMobile,onClick:this.props.onClick})};d.$22=function(){var a=this.context.state;if(!a.messageStore||!a.messageStore.sendQueue)return;var c=a.messageStore.sendQueue,d=this.state.inputValue.trim();d&&d.length>0&&c.enqueueAndSend(d,null);this.setState({inputValue:""});b("LiveChatPluginLoggerUtil").logNewAction("message_send",a.viewerID,a.pageID,"guest_chat_tab")};d.$23=function(){var a=this.context.state,c=a.viewerID;a=a.pageID;if(this.state.uploadingAttachments.size!==0)return;var d=this.state.inputValue.trim();if(d&&d.length>0||this.state.attachmentsDataMap.size>0){d=this.$7.constructUserGeneratedMessageObject(d,"source:discovery:customer_chat_plugin",this.$8,null,null,this.$9);this.$4.length>0&&(d.has_attachment=!0,d.image_ids=this.$4);this.$1.length>0&&(d.has_attachment=!0,d.gif_ids=this.$1);this.$10.length>0&&(d.has_attachment=!0,d.video_ids=this.$10);this.$3.length>0&&(d.has_attachment=!0,d.file_ids=this.$3);this.$6.send(d);this.setState({inputValue:""});this.$24();b("LiveChatPluginLoggerUtil").logActionDEPRECATED("message_sent",c,a,this.state.attachmentsDataMap.size>0?JSON.stringify({attachments:Array.from(this.state.attachmentsDataMap.keys())}):null);b("LiveChatPluginLoggerUtil").logAction("customer_chat_message_sent",c,a,this.state.attachmentsDataMap.size>0?JSON.stringify({attachments:Array.from(this.state.attachmentsDataMap.keys())}):null);b("LiveChatPluginLoggerUtil").logNewAction("message_send",c,a,"logged_in_chat_tab")}};d.$24=function(){this.$2&&this.$2.removeAllAttachments()};d.focus=function(){this.$5&&this.$5.focusInput()};return c}(i.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginMobilePrompt.react",["ix","cx","Image.react","LiveChatPluginContext","LiveChatPluginFbts","LiveChatPluginLoggerUtil","PluginDOMEventListener","React","ReactDOM","ShimButton.react","asset","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=24,k=24;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.greetingTextRef=i.createRef(),d.promptRef=i.createRef(),d.$2=function(){var a=d.context.state,c=a.viewerID;a=a.pageID;d.props.onClick();b("LiveChatPluginLoggerUtil").logAction("customer_chat_mobile_redesign_prompt_clicked",c,a);b("LiveChatPluginLoggerUtil").logNewAction("tab_click",c,a,"plugin_icon",null)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("setTimeout")(function(){a.$1()},750);var c=this.context.state,d=c.pageID,e=c.pluginMountTime;c=c.serverTime;var f=b("ReactDOM").findDOMNode(this.promptRef.current);f!=null&&b("PluginDOMEventListener").add(f,"click",function(a){});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_mobile_redesign_prompt_rendered",d,null,null,null,null,e,c)};d.componentDidUpdate=function(a){var b=this.context.state.isLoggedIn;(b&&a.loggedInGreeting!==this.props.loggedInGreeting||!b&&a.loggedOutGreeting!==this.props.loggedOutGreeting)&&this.$1()};d.render=function(){return i.jsxs("div",{ref:this.promptRef,className:"_6i-7",children:[i.jsx(b("ShimButton.react"),{className:"_6lg-",onClick:this.props.onCloseButtonClick,children:i.jsx(b("Image.react"),{src:g("491580")})}),i.jsx(b("ShimButton.react"),{onClick:this.$2,children:this.$3()})]})};d.$1=function(){var a=b("ReactDOM").findDOMNode(this.greetingTextRef.current);if(a!=null&&a instanceof HTMLElement){a=a.offsetHeight+j+k;this.props.anchorIframeResizeFn(a,a)}};d.$3=function(){var a=this.context.state,c=a.pageName;a=a.isLoggedIn;a?this.props.loggedInGreeting!=null?a=this.props.loggedInGreeting:a=b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT:this.props.loggedOutGreeting!=null?a=this.props.loggedOutGreeting:a=b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT;return i.jsxs("div",{className:"_6i-8",ref:this.greetingTextRef,children:[i.jsx("div",{className:"_6i-9",children:c}),i.jsx("div",{children:a})]})};return c}(i.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LivechatPluginGuestMessageThreadQueryContainer.react",["Arbiter","LiveChatPluginConstants","LiveChatPluginLoggerUtil","React","RelayModern","getLiveChatPluginGuestUserRelayEnvironment","LivechatPluginGuestMessageThreadQueryContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivechatPluginGuestMessageThreadQueryContainerQuery.graphql");function a(a){var c=a.pageID;return h.jsx(i,{environment:b("getLiveChatPluginGuestUserRelayEnvironment")(),query:j,variables:{data:{page_id:c}},render:function(a){var d=a.error;a=a.props;if(d){b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_guest_message_list_fetch_failed",c,JSON.stringify({error:d}),null,null,null);return}b("Arbiter").inform(b("LiveChatPluginConstants").UPDATE_MESSAGE_LIST,a);return h.jsx("div",{})}})}e.exports=a}),null);
__d("LoadingDialogDimensions",[],(function(a,b,c,d,e,f){a=Object.freeze({HEIGHT:96,WIDTH:300});e.exports=a}),null);
__d("AsyncDialog",["cx","AsyncRequest","CSS","DialogX","DOM","Keys","LayerFadeOnShow","LoadingDialogDimensions","Parent","React","ReactDOM","URI","XUIDialogTitle.react","XUISpinner.react","emptyFunction","forEachObject"],(function(a,b,c,d,e,f,g){var h,i=b("React"),j,k;function l(a){var c=b("LoadingDialogDimensions").WIDTH,d;a&&(c=parseInt(a.getAttribute("data-dialog-width"),10)||c,d=a.getAttribute("data-dialog-title")||d);if(!j){var e=(a=b("DOM")).create("div",{className:"_57-x"});j=new(b("DialogX"))({width:c,addedBehaviors:[b("LayerFadeOnShow")],xui:!0},a.create("div",null,e));k=a.create("div");a.insertBefore(e,k);b("ReactDOM").render(i.jsx(b("XUISpinner.react"),{size:"large"}),e);j.subscribe(["key","blur"],function(a,c){if(a=="blur"||a=="key"&&c.keyCode==b("Keys").ESC){p();return!1}})}d?b("ReactDOM").render(i.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:d}),k):b("DOM").empty(k);j.setWidth(c);return j}var m={},n=1,o=[];function p(){b("forEachObject")(m,function(a,b){a.abandon(),q(b)})}function q(a){delete m[a],Object.keys(m).length||l().hide()}function r(a,c){var d=n++;o[d]=c;m[d]=a;var e=q.bind(null,""+d);Object.assign(a.getData(),{__asyncDialog:d});c=a.getRelativeTo();c!=null&&c instanceof HTMLElement&&l(c).setCausalElement(c).show();var f=a.finallyHandler;a.setFinallyHandler(function(a){var c=a.getPayload();c&&c.asyncURL&&s.send(new(b("AsyncRequest"))(c.asyncURL));e();f&&f(a)});var g=a.abortHandler||b("emptyFunction"),h=a.interceptHandler||b("emptyFunction");a.setInterceptHandler(function(){try{h()}finally{e()}}).setAbortHandler(function(){try{g()}finally{e()}});a.send()}var s={send:function(a,c){r(a,c||b("emptyFunction"))},bootstrap:function(a,c,d){if(!a)return;var e=b("Parent").byClass(c,"stat_elem")||c;if(e&&b("CSS").hasClass(e,"async_saving"))return!1;var f=new(h||(h=b("URI")))(a).getQueryData();d=d==="dialog";a=new(b("AsyncRequest"))().setURI(a).setData(f).setMethod(d?"GET":"POST").setReadOnly(d).setStatusElement(e);c&&(a.setRelativeTo(c),a.setNectarModuleDataSafe(c));s.send(a)},respond:function(a,b){var c=o[a];c&&(c(b),delete o[a])},getLoadingDialog:function(){return l()}};e.exports=s}),null);
__d("NFXContextFactory",["FBLogger","uuid"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=function(a,b){if(b!==null)return b};return JSON.stringify({reportable_ent_token:a.reportable_ent_token,story_location:a.story_location,entry_point:a.entry_point,type:a.type,session_id:b("uuid")(),initial_action_name:a.initial_action_name,reportable_id:a.reportable_id,page_id:a.page_id,responsible_id:a.responsible_id},c)}function a(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;a=a.responsible_id;return g({type:1,story_location:c,entry_point:d,reportable_ent_token:b,responsible_id:a})}function c(a){var b=a.reportable_id,c=a.page_id;a=a.storyLocation;return g({type:6,story_location:a,entry_point:"unknown",initial_action_name:"POLITICAL_ARCHIVE_REPORT_AD",reportable_id:b,page_id:c})}function d(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;var e=a.initial_action_name;a=a.page_id;return g({type:11,story_location:c,entry_point:d,reportable_ent_token:b,initial_action_name:e,page_id:a})}function f(a){var c=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?"unknown":e;a=a.initial_action_name;c===null&&b("FBLogger")("frx").warn("null or undefined reportable_ent_token in forEntReportable, location=%s entry_point=%s",d,e);return g({type:2,story_location:d,entry_point:e,reportable_ent_token:c,initial_action_name:a})}e.exports={withEntReportable:f,withEntReportableOnPage:d,withEntMessageThread:a,withPoliticalArchiveAds:c}}),null);
__d("codedError",["fbt","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){h(0,2095)}a.withParams=function(a,b){h(0,2095)};a._=function(a,b,c,d){b=b(g);c=c(g,d);d=b+": "+c;d=new Error(d);Object.assign(d,{framesToPop:1,code:a,description:c,summary:b});return d};e.exports=a}),null);
__d("XMNLiveChatBlockMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/block/",{page_id:{type:"String",required:!0}})}),null);
__d("XMNLiveChatUnblockMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/unblock/",{page_id:{type:"String",required:!0}})}),null);
__d("LiveChatPluginDialogContainer.react",["cx","AsyncRequest","JSResource","LiveChatPluginAnonymousUserPrompt.react","LiveChatPluginContext","LiveChatPluginDialogHeader.react","LivechatPluginGuestMessageThreadQueryContainer.react","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggedInMobileInterstitial.react","LiveChatPluginLoggedInUserPrompt.react","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposer.react","LiveChatPluginMobilePrompt.react","MercuryIDs","MercuryThreadActions","MessengerSpinner.react","MessengerState.bs","MPNXDMessageManager","React","ReactCSSTransitionGroup","ReactDOM","UnverifiedXD","UserAgent","XMNLiveChatBlockMessageController","XMNLiveChatUnblockMessageController","emptyFunction","lazyLoadComponent","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("MercuryThreadActions").get(),j=b("MessengerState.bs").jsComponent,k=b("React"),l=b("lazyLoadComponent")(b("JSResource")("LiveChatPluginDialogBody.react").__setRef("LiveChatPluginDialogContainer.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={chatPromptHeight:-1,dialogBodyHeight:-1,informationViewOpen:!1,isPageBlocked:!1};d.$8=function(a,c){d.setState({chatPromptHeight:c}),b("MPNXDMessageManager").resizeIframe(a.toString())};d.$4=function(){var a=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),c=b("ReactDOM").findDOMNode(d.$3),e=b("ReactDOM").findDOMNode(d.$1);if(a&&a instanceof HTMLElement&&c&&c instanceof HTMLElement&&e&&e instanceof HTMLElement){a=a.getBoundingClientRect().height-c.getBoundingClientRect().height-e.getBoundingClientRect().height;a!==d.state.dialogBodyHeight&&d.setState({dialogBodyHeight:a})}};d.$17=function(){var a=d.context.state,b=a.isLoggedIn,c=a.canSkipContinuousAs,e=a.refererUri,f=a.refParam,g=a.viewerID;a=a.isGuestLoginSupport;d.props.onMobilePromptClick&&d.props.onMobilePromptClick(b,c,e,g,a,f)};d.$11=function(){var a=d.context.state,c=a.pageID;a=a.viewerID;var e=b("XMNLiveChatBlockMessageController").getURIBuilder().setString("page_id",c).getURI();d.setState({isPageBlocked:!0});new(b("AsyncRequest"))().setURI(e).setAllowCrossPageTransition(!0).send();b("LiveChatPluginLoggerUtil").logAction("customer_chat_block_message_clicked",a,c);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",a,c,"logged_in_chat_tab",{action_type:"customer_chat_block_message_clicked"})};d.$13=function(){var a=d.context.state,c=a.pageID;a=a.viewerID;var e=b("XMNLiveChatUnblockMessageController").getURIBuilder().setString("page_id",c).getURI();d.setState({isPageBlocked:!1});new(b("AsyncRequest"))().setURI(e).setAllowCrossPageTransition(!0).send();b("LiveChatPluginLoggerUtil").logAction("customer_chat_unblock_message_clicked",a,c);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",a,c,"logged_in_chat_tab",{action_type:"customer_chat_unblock_message_clicked"})};d.$12=function(){d.setState(function(){return{informationViewOpen:!1}})};d.$10=function(){d.setState(function(a){return{informationViewOpen:!a.informationViewOpen}},d.$18)};d.$18=function(){var a=d.context.state,c=a.pageID,e=a.viewerID;a=a.isAnonymousViewer;b("LiveChatPluginLoggerUtil").logAction(d.state.informationViewOpen?"customer_chat_information_button_opened":"customer_chat_information_button_closed",e,c);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",e,c,a?"guest_chat_tab":"logged_in_chat_tab",{action_type:d.state.informationViewOpen?"customer_chat_information_button_opened":"customer_chat_information_button_closed"})};d.$2=(h||(h=b("performanceAbsoluteNow")))();return d}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.context.state,d=c.isLoggedIn,e=c.chatStarted,f=c.hasMessagingPermission;c=c.isMobile;c&&e&&f&&window.addEventListener("resize",this.$4);if(e&&f&&d){e=b("ReactDOM").findDOMNode(this);e&&e instanceof HTMLElement&&(e.addEventListener("click",function(){a.$5()}),c||e.addEventListener("click",function(){a.$6()}))}};d.render=function(){var a=this,c=this.context.state,d=c.isLoggedIn,e=c.hasMessagingPermission,f=c.chatStarted,g=c.viewerID,h=c.isMobile,i=c.isGuestLoginSupported,m=c.isAnonymousViewer;if(h&&!f)return this.$7();!f||!e?(c=!0,f=d?k.jsx(b("LiveChatPluginLoggedInUserPrompt.react"),{anchorIframeResizeFn:this.$8,hasMessagingPermission:e,onChatNowClick:this.props.onChatNowClick,onCloseButtonClick:function(){a.$9(i?"welcome_page_with_guest_option":"welcome_page")},onContinueAsGuestClick:this.props.onContinueAsGuestClick},"logged_in_prompt"):k.jsx(b("LiveChatPluginAnonymousUserPrompt.react"),{anchorIframeResizeFn:this.$8,onCloseButtonClick:function(){a.$9(i?"welcome_page_with_guest_option":"welcome_page")},onContinueAsGuestClick:this.props.onContinueAsGuestClick},"anonymous_prompt")):d?(c=!1,f=k.jsxs("div",{className:"_3gog"+(h?"":" _6ati")+(h?" _6atj":""),style:h?null:{borderRadius:"9pt"},children:[k.jsx(b("LiveChatPluginDialogHeader.react"),{informationViewOpen:this.state.informationViewOpen,onCloseButtonClick:function(){a.$9(m?"guest_chat_tab":"logged_in_chat_tab")},onInformationButtonClick:this.$10,ref:function(b){return a.$3=b}}),k.jsx("div",{className:"_424s",children:k.jsxs(k.Suspense,{fallback:k.jsx("div",{className:"spinner",children:k.jsx(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})}),children:[k.jsx(j,{fbid:g,children:function(c){return k.jsx(l,{blockMessage:a.$11,deliveryReceipt:b("MessengerState.bs").deliveryReceipts(c),dialogBodyHeight:a.state.dialogBodyHeight,fromTime:a.$2,isPageBlocked:a.state.isPageBlocked,informationViewOpen:a.state.informationViewOpen,messengerState:c,onClick:a.$12,readReceipt:a.props.readReceipt,unblockMessage:a.$13,sendRef:a.props.sendRef})}}),this.context.state.sessionKey?k.jsx(b("LivechatPluginGuestMessageThreadQueryContainer.react"),{pageID:this.context.state.pageID}):null]})}),k.jsx(b("LiveChatPluginMessageComposer.react"),{isMobile:h,onBlur:this.$14()?this.$15:b("emptyFunction"),onChange:this.$12,onClick:this.$12,onFocus:this.$14()?this.$16:b("emptyFunction"),ref:function(b){return a.$1=b}})]},"dialog_container")):(f=null,c=!1);e=this.state.chatPromptHeight!==-1&&c?{height:this.state.chatPromptHeight}:{};if(!b("UserAgent").isBrowser("IE <= 9")&&!h)return k.jsx("div",{className:(this.state.chatPromptHeight!==-1&&!c?"_6atk":"")+(c?"":" _6atl")+" _6atm",style:e,children:k.jsx(b("ReactCSSTransitionGroup"),{transitionName:{enter:"_6atn",enterActive:"_6ato",leave:"_6atp",leaveActive:"_6atq"},transitionEnterTimeout:200,transitionLeaveTimeout:200,children:f})});else return k.jsx("div",{className:(!c&&!h?"_6atl":"")+(!c&&h?" _6atr":"")+" _6atm",style:e,children:f})};d.$7=function(){var a=this,c=this.context.state;c.viewerID;var d=c.isLoggedIn,e=c.showInterstitialOnPage,f=c.loggedInGreeting,g=c.loggedOutGreeting,h=c.isGuestLoginSupported;return e&&d?k.jsx(b("LiveChatPluginLoggedInMobileInterstitial.react"),{onChatNowClick:this.props.onChatNowClick,onCloseButtonClick:function(){a.$9(h?"welcome_page_with_guest_option":"welcome_page")},onContinueAsGuestClick:this.props.onContinueAsGuestClick}):k.jsx(b("LiveChatPluginMobilePrompt.react"),{anchorIframeResizeFn:this.$8,loggedInGreeting:f,loggedOutGreeting:g,onClick:this.$17,onCloseButtonClick:function(){a.$9("plugin_icon")}})};d.$15=function(){b("UnverifiedXD").send({type:"liveChatPluginBlurComposer"})};d.$16=function(){b("UnverifiedXD").send({type:"liveChatPluginFocusComposer"})};d.$14=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)};d.$5=function(){i.markRead(b("MercuryIDs").getThreadIDFromUserID(this.context.state.pageID))};d.$6=function(){this.$1&&this.$1.focus()};d.$9=function(a){var c=this.context.state,d=c.chatStarted,e=c.isMobile,f=c.viewerID;c=c.pageID;b("MPNXDMessageManager").clearPromptAndFadeTimer();b("MPNXDMessageManager").updateAppearance(!0,!0,d,e,null);b("LiveChatPluginLoggerUtil").logNewAction("tab_close",f,c,a,null)};return c}(k.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginITPResolver",["CurrentUser","LiveChatPluginConstants","LiveChatPluginUtils"],(function(a,b,c,d,e,f){"use strict";a={resolveITPIfNecessary:function(){if(!b("LiveChatPluginUtils").getIsITPUserAgent())return b("LiveChatPluginConstants").ITP_CONSISTENCY_CONSISTENT_NO_ITP;var a="c_user=",c=decodeURIComponent(document.cookie);c=c.split(";");var d="0";c.forEach(function(b,c){c=b;while(c.charAt(0)==" ")c=c.substring(1);c.indexOf(a)==0&&(d=c.substring(a.length,c.length))});c=b("CurrentUser").getID();if(c=="0"&&d!="0")return b("LiveChatPluginConstants").ITP_CONSISTENCY_INCONSISTENT;else if(c==d&&c!="0")return b("LiveChatPluginConstants").ITP_CONSISTENCY_CONSISTENT_LOGGED_IN;else return b("LiveChatPluginConstants").ITP_CONSISTENCY_UNKNOWN_LOGGED_OUT}};e.exports=a}),null);
__d("XMNPlatformCustomerChatPluginOpenThreadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/customer_chat_plugin/open_thread/",{page_id:{type:"FBID",required:!0},request_id:{type:"String",required:!0},referer_uri:{type:"String",required:!0},ref:{type:"String"},access_token:{type:"String"}})}),null);
__d("LiveChatPlugin.react",["cx","Arbiter","AsyncRequest","CreateCustomerChatPluginGuestUserMutation","CurrentUser","LiveChatMqttClient","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginDialogContainer.react","LiveChatPluginITPResolver","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","LiveChatPluginUtils","MPNXDMessageManager","React","UnverifiedXD","XMNPlatformCustomerChatPluginOpenThreadController","clearInterval","gkx","setInterval","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.startChat=function(){b("MPNXDMessageManager").clearPromptAndFadeTimer(),b("MPNXDMessageManager").expandIframe(d.context.state.isMobile),!d.context.state.hasMessagingPermission?d.$4(!0):d.$6(),b("setTimeout")(function(){d.context.dispatchAction({type:"TOGGLE_CHAT_STARTED",chatStarted:!0}),d.context.dispatchAction({type:"TOGGLE_HAS_MESSAGING_PERMISSION",hasMessagingPermission:!0}),b("LiveChatPluginLocalStorageUtil").setChatStarted(!0),b("Arbiter").inform(b("LiveChatPluginConstants").RESET_BADGING)},30)},d.$6=function(){var a=d.context.state,c=a.refererUri,e=a.pageID;a=a.refParam;var f=b("LiveChatPluginLocalStorageUtil").getRefSent();if(!f){f=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",e).setString("ref",a).setString("referer_uri",c).setString("request_id",b("LiveChatPluginLocalStorageUtil").getRequestID()).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());f.setAllowCrossPageTransition(!0).setMethod("POST").send();b("LiveChatPluginLocalStorageUtil").setRefSent(!0)}},d.onContinueAsGuestClick=function(){var a=d.context,c=a.state,e=a.dispatchAction,f=c.pageID;a=c.error;if(a)return;b("UnverifiedXD").send({type:"liveChatPluginExpandDialogIframe",isMobile:!1});e({type:"SET_UP_UI_FOR_GUEST_SESSION",isGuest:!0});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_continue_as_guest_clicked",f,null,null,null,null);c={button_name:"continue_as_guest"};b("LiveChatPluginLoggerUtil").logNewAction("tab_click",null,f,"welcome_page_with_guest_option",c);b("CreateCustomerChatPluginGuestUserMutation").commit({input:{page_id:f}},{onSuccess:function(c){var g,h,a=d.context.state;g=(g=c.create_customer_chat_plugin_guest_user)==null?void 0:g.session_key;h=(h=c.create_customer_chat_plugin_guest_user)==null?void 0:h.fbid;c=(c=c.create_customer_chat_plugin_guest_user)==null?void 0:c.access_token;if(g!=null&&h!=null&&c!=null){var i;(i=b("LiveChatPluginLocalStorageUtil")).init(a.originDomain,a.pageID,a.viewerID,a.requestID);i.setChatStarted(!0);i.setHasGuestSession(!0);i.setSessionInfo(g,h,c);e({type:"UPDATE_SESSION_KEY",sessionKey:g});e({type:"UPDATE_VIEWER_ID",viewerID:h});b("UnverifiedXD").send({type:"liveChatPluginNewGuestSession",sessionKey:g});e({type:"UPDATE_ACCESS_TOKEN",accessToken:c});b("gkx")("1245056")&&b("LiveChatMqttClient").setUp(f,h,null,null,g);i=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",a.pageID).setString("ref",a.refParam).setString("referer_uri",a.originDomain).setString("request_id",b("LiveChatPluginLocalStorageUtil").getRequestID()).setString("access_token",c).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());i.setAllowCrossPageTransition(!0).setMethod("POST").send()}},onFailure:function(a){b("LiveChatPluginLocalStorageUtil").init(d.context.state.originDomain,d.context.state.pageID,d.context.state.viewerID,d.context.state.requestID);var c=a.message.match(/\"error\":([0-9]+)/);c=c&&c.length>=2?c[1]:null;c=JSON.stringify({maybe_error_code:c,domain:d.context.state.originDomain,request_id:d.context.state.requestID,error:a.message});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_guest_account_creation_failed",f,c,null,null,null);b("LiveChatPluginLocalStorageUtil").removeSessionState();b("LiveChatPluginLocalStorageUtil").removeLocalState(d.context.state.originDomain,f,d.context.state.viewerID);e({type:"CLEAR_GUEST_SESSION",isLoggedIn:b("CurrentUser").isLoggedIn(),viewerID:b("CurrentUser").getID()});e({type:"SET_ERROR",error:a})}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.context,d=c.dispatchAction;c=c.state;var e=c.chatStarted,f=c.hasMessagingPermission,g=c.threadColor,h=c.pageID,i=c.isMuted,j=c.isMobile,k=c.reloaded,l=c.greetingDialogDisplay,m=c.greetingDialogDelay,n=c.loggedInGreeting;c=c.loggedOutGreeting;this.$1=!0;!b("CurrentUser").isLoggedIn()&&!this.context.state.isAnonymousViewer&&(d({type:"TOGGLE_CHAT_STARTED",chatStarted:!1}),b("LiveChatPluginLocalStorageUtil").setChatStarted(!1),b("LiveChatPluginLocalStorageUtil").setRefSent(!1));e&&f?(this.$4(!0),b("LiveChatPluginLocalStorageUtil").setChatStarted(!0)):f&&this.$4(!1);this.$3=b("Arbiter").subscribe("Connect.Unsafe.updateCustomerChat",function(b,c){b=a.$5(c.logged_in_greeting);var d=a.$5(c.logged_out_greeting);b!==null&&a.context.dispatchAction({type:"UPDATE_LOGGEDIN_GREETING",loggedInGreeting:b});d!==null&&a.context.dispatchAction({type:"UPDATE_LOGGEDOUT_GREETING",loggedOutGreeting:d});c.ref&&a.context.dispatchAction({type:"UPDATE_REF_PARAM",refParam:c.ref})});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_plugin_loaded",h,JSON.stringify({greetingDialogDisplay:l,greetingDialogDelay:m,isMobile:j,reloaded:k,isDialogHidden:b("LiveChatPluginLocalStorageUtil").getIsDialogHidden(),isMuted:i}),g,n,c);b("LiveChatPluginUtils").getIsITPUserAgent()&&(this.$2=b("setInterval")(function(){var c=b("LiveChatPluginITPResolver").resolveITPIfNecessary();c==b("LiveChatPluginConstants").ITP_CONSISTENCY_INCONSISTENT?(location.reload(),b("clearInterval")(a.$2)):(c==b("LiveChatPluginConstants").ITP_CONSISTENCY_CONSISTENT_LOGGED_IN||c==b("LiveChatPluginConstants").ITP_CONSISTENCY_CONSISTENT_NO_ITP)&&b("clearInterval")(a.$2)},1e3))};d.componentWillUnmount=function(){this.$1=!1,this.$3&&b("Arbiter").unsubscribe(this.$3)};d.render=function(){var a=this.context.state,c=a.chatStarted;a=a.isMobile;return h.jsx("div",{className:"_30ss"+(!a||!c?" _3-8j":""),children:h.jsx(b("LiveChatPluginDialogContainer.react"),{onChatNowClick:this.startChat,onMobilePromptClick:this.props.onMobilePromptClick,readReceipt:this.props.readReceipt,sendRef:this.$6,onContinueAsGuestClick:this.onContinueAsGuestClick})})};d.$4=function(a){var c=this.context.state,d=c.pageID,e=c.viewerID;c=c.isGuestLoginSupported;c||b("LiveChatMqttClient").setUp(d,e,null,a?this.$6:null)};d.$5=function(a){if(a==null||a==="")return null;else if(Array.from(a).length>80)return null;else return a};d.updateShowInterstitialOnPage=function(a){var b=this.context.dispatchAction;this.$1&&b({type:"TOGGLE_SHOW_INTERSTITIAL_ON_PAGE",showInterstitialOnPage:a})};return c}(h.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginBadgeSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a={fontSize:"8px",text:this.props.unreadCount,cx:"12",cy:"8",rx:"8",ry:"8"};if(this.props.unreadCount===0)return null;else this.props.unreadCount>20?(a.text="20+",a.cx="11",a.rx="9"):this.props.unreadCount<10&&(a.fontSize="9px");return g.jsxs("svg",{x:"40",y:"0",width:"20",height:"20",children:[g.jsx("ellipse",{cx:a.cx,cy:a.cy,rx:a.rx,ry:a.ry,fill:"#e8423e"}),g.jsx("text",{x:"12",y:"8",textAnchor:"middle",fill:"#ffffff",fontSize:a.fontSize,fontFamily:"Arial",dy:".4em",children:a.text})]})};return b}(g.Component);e.exports=a}),null);
__d("LiveChatPluginMessengerIconSVGWithColor.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{x:"0",y:"0",width:"60px",height:"60px",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsxs("g",{children:[g.jsx("circle",{fill:this.props.threadColor,cx:"30",cy:"30",r:"30"}),g.jsx("svg",{x:"10",y:"10",children:g.jsx("g",{transform:"translate(0.000000, -10.000000)",fill:"#FFFFFF",children:g.jsx("g",{id:"logo",transform:"translate(0.000000, 10.000000)",children:g.jsx("path",{d:"M20,0 C31.2666,0 40,8.2528 40,19.4 C40,30.5472 31.2666,38.8 20,38.8 C17.9763,38.8 16.0348,38.5327 14.2106,38.0311 C13.856,37.9335 13.4789,37.9612 13.1424,38.1098 L9.1727,39.8621 C8.1343,40.3205 6.9621,39.5819 6.9273,38.4474 L6.8184,34.8894 C6.805,34.4513 6.6078,34.0414 6.2811,33.7492 C2.3896,30.2691 0,25.2307 0,19.4 C0,8.2528 8.7334,0 20,0 Z M7.99009,25.07344 C7.42629,25.96794 8.52579,26.97594 9.36809,26.33674 L15.67879,21.54734 C16.10569,21.22334 16.69559,21.22164 17.12429,21.54314 L21.79709,25.04774 C23.19919,26.09944 25.20039,25.73014 26.13499,24.24744 L32.00999,14.92654 C32.57369,14.03204 31.47419,13.02404 30.63189,13.66324 L24.32119,18.45264 C23.89429,18.77664 23.30439,18.77834 22.87569,18.45674 L18.20299,14.95224 C16.80079,13.90064 14.79959,14.26984 13.86509,15.75264 L7.99009,25.07344 Z"})})})})]})})})};return b}(g.Component);e.exports=a}),null);
__d("LiveChatPluginBadgableMessengerIcon.react",["Arbiter","LiveChatPluginBadgeSVG.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginLocalStorageUtil","LiveChatPluginMessengerIconSVGWithColor.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={unreadCount:c.context.state.unreadCount},c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("Arbiter").subscribe(b("LiveChatPluginConstants").UNREAD_COUNT_UPDATE,function(b,c){a.setState({unreadCount:c})})};d.componentWillUnmount=function(){this.$1&&b("Arbiter").unsubscribe(this.$1)};d.render=function(){var a=this.props.threadColor!=null?g.jsx(b("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:this.props.threadColor}):g.jsx(b("LiveChatPluginDefaultMessengerIconSVG.react"),{}),c=null;(!b("LiveChatPluginLocalStorageUtil").getChatStarted()||b("LiveChatPluginLocalStorageUtil").getIsDialogHidden())&&(c=g.jsx(b("LiveChatPluginBadgeSVG.react"),{unreadCount:this.state.unreadCount}));return g.jsxs("svg",{width:"60px",height:"60px",viewBox:"0 0 60 60",children:[a,c]})};return c}(g.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginErrorBoundary.react",["ErrorBoundary.react","ErrorUtils","LiveChatPluginLoggerUtil","React"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.onHandleError=function(a,c){var d=(g||(g=b("ErrorUtils"))).normalizeError(a);b("LiveChatPluginLoggerUtil").logImpressionExceptions("customer_chat_plugin_load_failed",this.props.pageID,d.name,d.message,d.stack);this.props.onHandleError&&this.props.onHandleError(a,c)};d.render=function(){return h.jsx(b("ErrorBoundary.react"),{onHandleError:this.onHandleError.bind(this),children:this.props.children})};return c}(h.Component);e.exports=a}),null);
__d("LiveChatPluginReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"TOGGLE_IS_LOGGED_IN":return babelHelpers["extends"]({},a,{isLoggedIn:b.isLoggedIn});case"TOGGLE_CHAT_STARTED":return babelHelpers["extends"]({},a,{chatStarted:b.chatStarted});case"TOGGLE_HAS_MESSAGING_PERMISSION":return babelHelpers["extends"]({},a,{hasMessagingPermission:b.hasMessagingPermission});case"TOGGLE_HAS_MENU":return babelHelpers["extends"]({},a,{hasMenu:b.hasMenu});case"TOGGLE_IS_ANONYMOUS_VIEWER":return babelHelpers["extends"]({},a,{isAnonymousViewer:b.isAnonymousViewer});case"TOGGLE_SHOW_INTERSTITIAL_ON_PAGE":return babelHelpers["extends"]({},a,{showInterstitialOnPage:b.showInterstitialOnPage});case"UPDATE_VIEWER_ID":return babelHelpers["extends"]({},a,{viewerID:b.viewerID});case"UPDATE_SESSION_KEY":return babelHelpers["extends"]({},a,{sessionKey:b.sessionKey});case"UPDATE_LOGGEDIN_GREETING":return babelHelpers["extends"]({},a,{loggedInGreeting:b.loggedInGreeting});case"UPDATE_LOGGEDOUT_GREETING":return babelHelpers["extends"]({},a,{loggedOutGreeting:b.loggedOutGreeting});case"UPDATE_REF_PARAM":return babelHelpers["extends"]({},a,{refParam:b.refParam});case"SET_UP_UI_FOR_GUEST_SESSION":return babelHelpers["extends"]({},a,{isLoggedIn:b.isGuest,chatStarted:b.isGuest,hasMessagingPermission:b.isGuest,isAnonymousViewer:b.isGuest});case"SET_UP_MESSAGE_STORE":return babelHelpers["extends"]({},a,{messageStore:b.messageStore});case"CLEAR_GUEST_SESSION":return babelHelpers["extends"]({},a,{viewerID:b.viewerID,isLoggedIn:b.isLoggedIn,sessionKey:"",accessToken:"",chatStarted:!1,hasMessagingPermission:!1,isAnonymousViewer:!1});case"SET_ERROR":return babelHelpers["extends"]({},a,{error:b.error});case"UPDATE_ACCESS_TOKEN":return babelHelpers["extends"]({},a,{accessToken:b.accessToken});default:return a}}e.exports=a}),null);
__d("LiveChatPluginStateProvider",["LiveChatPluginContext","LiveChatPluginReducer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=b("React");var h=a.useReducer;c=function(a){var c=a.initialState;a=a.children;c=h(b("LiveChatPluginReducer"),c);var d=c[0];c=c[1];return g.jsx(b("LiveChatPluginContext").Provider,{value:{dispatchAction:c,state:d},children:a})};e.exports=c}),null);
__d("XMNMessagingPluginGuestSessionValidationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/guest/",{page_id:{type:"String",required:!0},access_token:{type:"String",required:!0}})}),null);